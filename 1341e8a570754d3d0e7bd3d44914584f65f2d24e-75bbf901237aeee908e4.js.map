{"version":3,"file":"1341e8a570754d3d0e7bd3d44914584f65f2d24e-75bbf901237aeee908e4.js","mappings":"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","sources":["webpack://picapica-web-client/./node_modules/grpc-web/index.js","webpack://picapica-web-client/./node_modules/uri-js/dist/es5/uri.all.js","webpack://picapica-web-client/./node_modules/uuid/dist/esm-browser/rng.js","webpack://picapica-web-client/./node_modules/uuid/dist/esm-browser/regex.js","webpack://picapica-web-client/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://picapica-web-client/./node_modules/uuid/dist/esm-browser/validate.js","webpack://picapica-web-client/./node_modules/uuid/dist/esm-browser/v4.js","webpack://picapica-web-client/./src/elements/session-creating-loading.tsx","webpack://picapica-web-client/./src/lib/generated/v1/ServicesServiceClientPb.ts","webpack://picapica-web-client/./src/lib/session/client.ts","webpack://picapica-web-client/./src/lib/session/urn.ts","webpack://picapica-web-client/./src/lib/url-params.ts","webpack://picapica-web-client/./src/lib/use-session.ts","webpack://picapica-web-client/./src/lib/storage-cache.ts"],"sourcesContent":["/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nfunction aa(a) {\n  var b = 0;\n  return function () {\n    return b < a.length ? {\n      done: !1,\n      value: a[b++]\n    } : {\n      done: !0\n    };\n  };\n}\n\nvar ba = \"function\" == typeof Object.defineProperties ? Object.defineProperty : function (a, b, c) {\n  a != Array.prototype && a != Object.prototype && (a[b] = c.value);\n};\n\nfunction ca(a) {\n  a = [\"object\" == typeof window && window, \"object\" == typeof self && self, \"object\" == typeof global && global, a];\n\n  for (var b = 0; b < a.length; ++b) {\n    var c = a[b];\n    if (c && c.Math == Math) return c;\n  }\n\n  throw Error(\"Cannot find global object\");\n}\n\nvar da = ca(this);\n\nfunction ea(a, b) {\n  if (b) {\n    var c = da;\n    a = a.split(\".\");\n\n    for (var d = 0; d < a.length - 1; d++) {\n      var f = a[d];\n      f in c || (c[f] = {});\n      c = c[f];\n    }\n\n    a = a[a.length - 1];\n    d = c[a];\n    b = b(d);\n    b != d && null != b && ba(c, a, {\n      configurable: !0,\n      writable: !0,\n      value: b\n    });\n  }\n}\n\nea(\"Object.is\", function (a) {\n  return a ? a : function (b, c) {\n    return b === c ? 0 !== b || 1 / b === 1 / c : b !== b && c !== c;\n  };\n});\nea(\"Array.prototype.includes\", function (a) {\n  return a ? a : function (b, c) {\n    var d = this;\n    d instanceof String && (d = String(d));\n    var f = d.length;\n    c = c || 0;\n\n    for (0 > c && (c = Math.max(c + f, 0)); c < f; c++) {\n      var g = d[c];\n      if (g === b || Object.is(g, b)) return !0;\n    }\n\n    return !1;\n  };\n});\n\nfunction fa(a) {\n  var b = \"undefined\" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];\n  return b ? b.call(a) : {\n    next: aa(a)\n  };\n}\n\nea(\"Promise\", function (a) {\n  function b(e) {\n    this.b = 0;\n    this.c = void 0;\n    this.a = [];\n    var h = this.f();\n\n    try {\n      e(h.resolve, h.reject);\n    } catch (k) {\n      h.reject(k);\n    }\n  }\n\n  function c() {\n    this.a = null;\n  }\n\n  function d(e) {\n    return e instanceof b ? e : new b(function (h) {\n      h(e);\n    });\n  }\n\n  if (a) return a;\n\n  c.prototype.b = function (e) {\n    if (null == this.a) {\n      this.a = [];\n      var h = this;\n      this.c(function () {\n        h.g();\n      });\n    }\n\n    this.a.push(e);\n  };\n\n  var f = da.setTimeout;\n\n  c.prototype.c = function (e) {\n    f(e, 0);\n  };\n\n  c.prototype.g = function () {\n    for (; this.a && this.a.length;) {\n      var e = this.a;\n      this.a = [];\n\n      for (var h = 0; h < e.length; ++h) {\n        var k = e[h];\n        e[h] = null;\n\n        try {\n          k();\n        } catch (l) {\n          this.f(l);\n        }\n      }\n    }\n\n    this.a = null;\n  };\n\n  c.prototype.f = function (e) {\n    this.c(function () {\n      throw e;\n    });\n  };\n\n  b.prototype.f = function () {\n    function e(l) {\n      return function (m) {\n        k || (k = !0, l.call(h, m));\n      };\n    }\n\n    var h = this,\n        k = !1;\n    return {\n      resolve: e(this.m),\n      reject: e(this.g)\n    };\n  };\n\n  b.prototype.m = function (e) {\n    if (e === this) this.g(new TypeError(\"A Promise cannot resolve to itself\"));else if (e instanceof b) this.o(e);else {\n      a: switch (typeof e) {\n        case \"object\":\n          var h = null != e;\n          break a;\n\n        case \"function\":\n          h = !0;\n          break a;\n\n        default:\n          h = !1;\n      }\n\n      h ? this.l(e) : this.h(e);\n    }\n  };\n\n  b.prototype.l = function (e) {\n    var h = void 0;\n\n    try {\n      h = e.then;\n    } catch (k) {\n      this.g(k);\n      return;\n    }\n\n    \"function\" == typeof h ? this.u(h, e) : this.h(e);\n  };\n\n  b.prototype.g = function (e) {\n    this.i(2, e);\n  };\n\n  b.prototype.h = function (e) {\n    this.i(1, e);\n  };\n\n  b.prototype.i = function (e, h) {\n    if (0 != this.b) throw Error(\"Cannot settle(\" + e + \", \" + h + \"): Promise already settled in state\" + this.b);\n    this.b = e;\n    this.c = h;\n    this.j();\n  };\n\n  b.prototype.j = function () {\n    if (null != this.a) {\n      for (var e = 0; e < this.a.length; ++e) {\n        g.b(this.a[e]);\n      }\n\n      this.a = null;\n    }\n  };\n\n  var g = new c();\n\n  b.prototype.o = function (e) {\n    var h = this.f();\n    e.w(h.resolve, h.reject);\n  };\n\n  b.prototype.u = function (e, h) {\n    var k = this.f();\n\n    try {\n      e.call(h, k.resolve, k.reject);\n    } catch (l) {\n      k.reject(l);\n    }\n  };\n\n  b.prototype.then = function (e, h) {\n    function k(n, v) {\n      return \"function\" == typeof n ? function (x) {\n        try {\n          l(n(x));\n        } catch (F) {\n          m(F);\n        }\n      } : v;\n    }\n\n    var l,\n        m,\n        p = new b(function (n, v) {\n      l = n;\n      m = v;\n    });\n    this.w(k(e, l), k(h, m));\n    return p;\n  };\n\n  b.prototype.catch = function (e) {\n    return this.then(void 0, e);\n  };\n\n  b.prototype.w = function (e, h) {\n    function k() {\n      switch (l.b) {\n        case 1:\n          e(l.c);\n          break;\n\n        case 2:\n          h(l.c);\n          break;\n\n        default:\n          throw Error(\"Unexpected state: \" + l.b);\n      }\n    }\n\n    var l = this;\n    null == this.a ? g.b(k) : this.a.push(k);\n  };\n\n  b.resolve = d;\n\n  b.reject = function (e) {\n    return new b(function (h, k) {\n      k(e);\n    });\n  };\n\n  b.race = function (e) {\n    return new b(function (h, k) {\n      for (var l = fa(e), m = l.next(); !m.done; m = l.next()) {\n        d(m.value).w(h, k);\n      }\n    });\n  };\n\n  b.all = function (e) {\n    var h = fa(e),\n        k = h.next();\n    return k.done ? d([]) : new b(function (l, m) {\n      function p(x) {\n        return function (F) {\n          n[x] = F;\n          v--;\n          0 == v && l(n);\n        };\n      }\n\n      var n = [],\n          v = 0;\n\n      do {\n        n.push(void 0), v++, d(k.value).w(p(n.length - 1), m), k = h.next();\n      } while (!k.done);\n    });\n  };\n\n  return b;\n});\nvar ha = ha || {},\n    q = this || self;\n\nfunction r(a, b) {\n  a = a.split(\".\");\n  b = b || q;\n\n  for (var c = 0; c < a.length; c++) {\n    if (b = b[a[c]], null == b) return null;\n  }\n\n  return b;\n}\n\nfunction t() {}\n\nfunction ia(a) {\n  var b = typeof a;\n  if (\"object\" == b) {\n    if (a) {\n      if (a instanceof Array) return \"array\";\n      if (a instanceof Object) return b;\n      var c = Object.prototype.toString.call(a);\n      if (\"[object Window]\" == c) return \"object\";\n      if (\"[object Array]\" == c || \"number\" == typeof a.length && \"undefined\" != typeof a.splice && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"splice\")) return \"array\";\n      if (\"[object Function]\" == c || \"undefined\" != typeof a.call && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"call\")) return \"function\";\n    } else return \"null\";\n  } else if (\"function\" == b && \"undefined\" == typeof a.call) return \"object\";\n  return b;\n}\n\nfunction u(a) {\n  var b = typeof a;\n  return \"object\" == b && null != a || \"function\" == b;\n}\n\nvar ja = \"closure_uid_\" + (1E9 * Math.random() >>> 0),\n    ka = 0;\n\nfunction la(a, b, c) {\n  return a.call.apply(a.bind, arguments);\n}\n\nfunction ma(a, b, c) {\n  if (!a) throw Error();\n\n  if (2 < arguments.length) {\n    var d = Array.prototype.slice.call(arguments, 2);\n    return function () {\n      var f = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(f, d);\n      return a.apply(b, f);\n    };\n  }\n\n  return function () {\n    return a.apply(b, arguments);\n  };\n}\n\nfunction w(a, b, c) {\n  Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? w = la : w = ma;\n  return w.apply(null, arguments);\n}\n\nvar na = Date.now || function () {\n  return +new Date();\n};\n\nfunction y(a, b) {\n  function c() {}\n\n  c.prototype = b.prototype;\n  a.S = b.prototype;\n  a.prototype = new c();\n  a.prototype.constructor = a;\n}\n\n;\n\nfunction oa() {\n  this.a = {};\n}\n\noa.prototype.get = function (a) {\n  return this.a[a];\n};\n\noa.prototype.f = function () {\n  return Object.keys(this.a);\n};\n\nfunction z(a, b, c, d) {\n  this.f = a;\n  this.c = b;\n  this.b = c;\n  this.a = d;\n}\n\nz.prototype.getRequestMessage = function () {\n  return this.f;\n};\n\nz.prototype.getMethodDescriptor = function () {\n  return this.c;\n};\n\nz.prototype.getMetadata = function () {\n  return this.b;\n};\n\nz.prototype.getCallOptions = function () {\n  return this.a;\n};\n\nfunction A(a, b, c, d) {\n  c = void 0 === c ? {} : c;\n  this.c = a;\n  this.a = c;\n  this.b = b;\n  this.f = void 0 === d ? null : d;\n}\n\nA.prototype.getResponseMessage = function () {\n  return this.c;\n};\n\nA.prototype.getMetadata = function () {\n  return this.a;\n};\n\nA.prototype.getMethodDescriptor = function () {\n  return this.b;\n};\n\nA.prototype.getStatus = function () {\n  return this.f;\n};\n\nfunction pa(a, b, c, d, f, g) {\n  this.name = a;\n  this.a = f;\n  this.b = g;\n}\n\nfunction qa(a, b, c) {\n  c = void 0 === c ? {} : c;\n  var d = void 0 === d ? new oa() : d;\n  return new z(b, a, c, d);\n}\n\n;\n\nfunction ra(a, b, c, d) {\n  return d instanceof pa ? d : new pa(a, c, d.b || b.constructor, d.f, d.a, d.c);\n}\n\n;\n\nfunction B(a) {\n  this.a = a;\n}\n\nB.prototype.on = function (a, b) {\n  return \"data\" == a || \"error\" == a ? this : this.a.on(a, b);\n};\n\nB.prototype.removeListener = function (a, b) {\n  return this.a.removeListener(a, b);\n};\n\nB.prototype.cancel = function () {\n  this.a.cancel();\n};\n\nfunction sa(a) {\n  switch (a) {\n    case 0:\n      return \"No Error\";\n\n    case 1:\n      return \"Access denied to content document\";\n\n    case 2:\n      return \"File not found\";\n\n    case 3:\n      return \"Firefox silently errored\";\n\n    case 4:\n      return \"Application custom error\";\n\n    case 5:\n      return \"An exception occurred\";\n\n    case 6:\n      return \"Http response at 400 or 500 level\";\n\n    case 7:\n      return \"Request was aborted\";\n\n    case 8:\n      return \"Request timed out\";\n\n    case 9:\n      return \"The resource is not available offline\";\n\n    default:\n      return \"Unrecognized error code\";\n  }\n}\n\n;\n\nfunction C(a) {\n  if (Error.captureStackTrace) Error.captureStackTrace(this, C);else {\n    var b = Error().stack;\n    b && (this.stack = b);\n  }\n  a && (this.message = String(a));\n}\n\ny(C, Error);\nC.prototype.name = \"CustomError\";\n\nfunction ta(a, b) {\n  a = a.split(\"%s\");\n\n  for (var c = \"\", d = a.length - 1, f = 0; f < d; f++) {\n    c += a[f] + (f < b.length ? b[f] : \"%s\");\n  }\n\n  C.call(this, c + a[d]);\n}\n\ny(ta, C);\nta.prototype.name = \"AssertionError\";\n\nfunction ua(a, b) {\n  throw new ta(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1));\n}\n\n;\n\nfunction va() {\n  this.j = null;\n  this.i = [];\n  this.l = 0;\n  this.b = wa;\n  this.f = this.a = this.h = 0;\n  this.c = null;\n  this.g = 0;\n}\n\nfunction xa(a, b) {\n  function c(l) {\n    l == ya ? e.h = l : l == D ? e.h = l : za(e, h, k, \"invalid frame byte\");\n    e.b = Aa;\n    e.a = 0;\n    e.f = 0;\n  }\n\n  function d(l) {\n    e.f++;\n    e.a = (e.a << 8) + l;\n    4 == e.f && (e.b = Ba, e.g = 0, \"undefined\" !== typeof Uint8Array ? e.c = new Uint8Array(e.a) : e.c = Array(e.a), 0 == e.a && g());\n  }\n\n  function f(l) {\n    e.c[e.g++] = l;\n    e.g == e.a && g();\n  }\n\n  function g() {\n    var l = {};\n    l[e.h] = e.c;\n    e.i.push(l);\n    e.b = wa;\n  }\n\n  var e = a,\n      h,\n      k = 0;\n\n  for (b instanceof Uint8Array || b instanceof Array ? h = b : h = new Uint8Array(b); k < h.length;) {\n    switch (e.b) {\n      case Ca:\n        za(e, h, k, \"stream already broken\");\n        break;\n\n      case wa:\n        c(h[k]);\n        break;\n\n      case Aa:\n        d(h[k]);\n        break;\n\n      case Ba:\n        f(h[k]);\n        break;\n\n      default:\n        throw Error(\"unexpected parser state: \" + e.b);\n    }\n\n    e.l++;\n    k++;\n  }\n\n  a = e.i;\n  e.i = [];\n  return 0 < a.length ? a : null;\n}\n\nvar wa = 0,\n    Aa = 1,\n    Ba = 2,\n    Ca = 3,\n    ya = 0,\n    D = 128;\n\nfunction za(a, b, c, d) {\n  a.b = Ca;\n  a.j = \"The stream is broken @\" + a.l + \"/\" + c + \". Error: \" + d + \". With input:\\n\" + b;\n  throw Error(a.j);\n}\n\n;\n\nfunction Da(a) {\n  switch (a) {\n    case 200:\n      return 0;\n\n    case 400:\n      return 3;\n\n    case 401:\n      return 16;\n\n    case 403:\n      return 7;\n\n    case 404:\n      return 5;\n\n    case 409:\n      return 10;\n\n    case 412:\n      return 9;\n\n    case 429:\n      return 8;\n\n    case 499:\n      return 1;\n\n    case 500:\n      return 2;\n\n    case 501:\n      return 12;\n\n    case 503:\n      return 14;\n\n    case 504:\n      return 4;\n\n    default:\n      return 2;\n  }\n}\n\n;\nvar Ea = Array.prototype.indexOf ? function (a, b) {\n  return Array.prototype.indexOf.call(a, b, void 0);\n} : function (a, b) {\n  if (\"string\" === typeof a) return \"string\" !== typeof b || 1 != b.length ? -1 : a.indexOf(b, 0);\n\n  for (var c = 0; c < a.length; c++) {\n    if (c in a && a[c] === b) return c;\n  }\n\n  return -1;\n};\n\nfunction Fa(a) {\n  a: {\n    var b = Ga;\n\n    for (var c = a.length, d = \"string\" === typeof a ? a.split(\"\") : a, f = 0; f < c; f++) {\n      if (f in d && b.call(void 0, d[f], f, a)) {\n        b = f;\n        break a;\n      }\n    }\n\n    b = -1;\n  }\n\n  return 0 > b ? null : \"string\" === typeof a ? a.charAt(b) : a[b];\n}\n\n;\nvar Ha = String.prototype.trim ? function (a) {\n  return a.trim();\n} : function (a) {\n  return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(a)[1];\n};\n\nfunction E(a, b) {\n  return -1 != a.indexOf(b);\n}\n\nfunction Ia(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n;\nvar G;\n\na: {\n  var Ja = q.navigator;\n\n  if (Ja) {\n    var Ka = Ja.userAgent;\n\n    if (Ka) {\n      G = Ka;\n      break a;\n    }\n  }\n\n  G = \"\";\n}\n\n;\n\nfunction La(a, b) {\n  for (var c in a) {\n    b.call(void 0, a[c], c, a);\n  }\n}\n\nfunction Ma(a, b) {\n  var c = {},\n      d;\n\n  for (d in a) {\n    c[d] = b.call(void 0, a[d], d, a);\n  }\n\n  return c;\n}\n\nvar Na = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\n\nfunction Oa(a, b) {\n  for (var c, d, f = 1; f < arguments.length; f++) {\n    d = arguments[f];\n\n    for (c in d) {\n      a[c] = d[c];\n    }\n\n    for (var g = 0; g < Na.length; g++) {\n      c = Na[g], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n    }\n  }\n}\n\n;\n\nfunction Pa(a) {\n  var b = 1;\n  a = a.split(\":\");\n\n  for (var c = []; 0 < b && a.length;) {\n    c.push(a.shift()), b--;\n  }\n\n  a.length && c.push(a.join(\":\"));\n  return c;\n}\n\n;\n\nfunction Qa(a) {\n  Qa[\" \"](a);\n  return a;\n}\n\nQa[\" \"] = t;\n\nfunction Ra(a, b) {\n  var c = Sa;\n  return Object.prototype.hasOwnProperty.call(c, a) ? c[a] : c[a] = b(a);\n}\n\n;\nvar Ta = E(G, \"Opera\"),\n    H = E(G, \"Trident\") || E(G, \"MSIE\"),\n    Ua = E(G, \"Edge\"),\n    Va = E(G, \"Gecko\") && !(E(G.toLowerCase(), \"webkit\") && !E(G, \"Edge\")) && !(E(G, \"Trident\") || E(G, \"MSIE\")) && !E(G, \"Edge\"),\n    Wa = E(G.toLowerCase(), \"webkit\") && !E(G, \"Edge\");\n\nfunction Xa() {\n  var a = q.document;\n  return a ? a.documentMode : void 0;\n}\n\nvar I;\n\na: {\n  var Ya = \"\",\n      Za = function () {\n    var a = G;\n    if (Va) return /rv:([^\\);]+)(\\)|;)/.exec(a);\n    if (Ua) return /Edge\\/([\\d\\.]+)/.exec(a);\n    if (H) return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);\n    if (Wa) return /WebKit\\/(\\S+)/.exec(a);\n    if (Ta) return /(?:Version)[ \\/]?(\\S+)/.exec(a);\n  }();\n\n  Za && (Ya = Za ? Za[1] : \"\");\n\n  if (H) {\n    var $a = Xa();\n\n    if (null != $a && $a > parseFloat(Ya)) {\n      I = String($a);\n      break a;\n    }\n  }\n\n  I = Ya;\n}\n\nvar Sa = {};\n\nfunction ab(a) {\n  return Ra(a, function () {\n    for (var b = 0, c = Ha(String(I)).split(\".\"), d = Ha(String(a)).split(\".\"), f = Math.max(c.length, d.length), g = 0; 0 == b && g < f; g++) {\n      var e = c[g] || \"\",\n          h = d[g] || \"\";\n\n      do {\n        e = /(\\d*)(\\D*)(.*)/.exec(e) || [\"\", \"\", \"\", \"\"];\n        h = /(\\d*)(\\D*)(.*)/.exec(h) || [\"\", \"\", \"\", \"\"];\n        if (0 == e[0].length && 0 == h[0].length) break;\n        b = Ia(0 == e[1].length ? 0 : parseInt(e[1], 10), 0 == h[1].length ? 0 : parseInt(h[1], 10)) || Ia(0 == e[2].length, 0 == h[2].length) || Ia(e[2], h[2]);\n        e = e[3];\n        h = h[3];\n      } while (0 == b);\n    }\n\n    return 0 <= b;\n  });\n}\n\nvar bb;\n\nif (q.document && H) {\n  var cb = Xa();\n  bb = cb ? cb : parseInt(I, 10) || void 0;\n} else bb = void 0;\n\nvar db = bb;\n\nfunction eb() {\n  0 != fb && (Object.prototype.hasOwnProperty.call(this, ja) && this[ja] || (this[ja] = ++ka));\n  this.F = this.F;\n}\n\nvar fb = 0;\neb.prototype.F = !1;\n\nvar gb = Object.freeze || function (a) {\n  return a;\n};\n\nvar hb;\n(hb = !H) || (hb = 9 <= Number(db));\n\nvar ib = hb,\n    jb = H && !ab(\"9\"),\n    kb = function () {\n  if (!q.addEventListener || !Object.defineProperty) return !1;\n  var a = !1,\n      b = Object.defineProperty({}, \"passive\", {\n    get: function get() {\n      a = !0;\n    }\n  });\n\n  try {\n    q.addEventListener(\"test\", t, b), q.removeEventListener(\"test\", t, b);\n  } catch (c) {}\n\n  return a;\n}();\n\nfunction J(a, b) {\n  this.type = a;\n  this.a = this.target = b;\n  this.defaultPrevented = !1;\n}\n\nJ.prototype.b = function () {\n  this.defaultPrevented = !0;\n};\n\nfunction K(a, b) {\n  J.call(this, a ? a.type : \"\");\n  this.relatedTarget = this.a = this.target = null;\n  this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0;\n  this.key = \"\";\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.pointerId = 0;\n  this.pointerType = \"\";\n  this.c = null;\n\n  if (a) {\n    var c = this.type = a.type,\n        d = a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : null;\n    this.target = a.target || a.srcElement;\n    this.a = b;\n\n    if (b = a.relatedTarget) {\n      if (Va) {\n        a: {\n          try {\n            Qa(b.nodeName);\n            var f = !0;\n            break a;\n          } catch (g) {}\n\n          f = !1;\n        }\n\n        f || (b = null);\n      }\n    } else \"mouseover\" == c ? b = a.fromElement : \"mouseout\" == c && (b = a.toElement);\n\n    this.relatedTarget = b;\n    d ? (this.clientX = void 0 !== d.clientX ? d.clientX : d.pageX, this.clientY = void 0 !== d.clientY ? d.clientY : d.pageY, this.screenX = d.screenX || 0, this.screenY = d.screenY || 0) : (this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX, this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY, this.screenX = a.screenX || 0, this.screenY = a.screenY || 0);\n    this.button = a.button;\n    this.key = a.key || \"\";\n    this.ctrlKey = a.ctrlKey;\n    this.altKey = a.altKey;\n    this.shiftKey = a.shiftKey;\n    this.metaKey = a.metaKey;\n    this.pointerId = a.pointerId || 0;\n    this.pointerType = \"string\" === typeof a.pointerType ? a.pointerType : lb[a.pointerType] || \"\";\n    this.c = a;\n    a.defaultPrevented && this.b();\n  }\n}\n\ny(K, J);\nvar lb = gb({\n  2: \"touch\",\n  3: \"pen\",\n  4: \"mouse\"\n});\n\nK.prototype.b = function () {\n  K.S.b.call(this);\n  var a = this.c;\n  if (a.preventDefault) a.preventDefault();else if (a.returnValue = !1, jb) try {\n    if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) a.keyCode = -1;\n  } catch (b) {}\n};\n\nvar L = \"closure_listenable_\" + (1E6 * Math.random() | 0),\n    mb = 0;\n\nfunction nb(a, b, c, d, f) {\n  this.listener = a;\n  this.proxy = null;\n  this.src = b;\n  this.type = c;\n  this.capture = !!d;\n  this.A = f;\n  this.key = ++mb;\n  this.s = this.v = !1;\n}\n\nfunction ob(a) {\n  a.s = !0;\n  a.listener = null;\n  a.proxy = null;\n  a.src = null;\n  a.A = null;\n}\n\n;\n\nfunction M(a) {\n  this.src = a;\n  this.a = {};\n  this.b = 0;\n}\n\nM.prototype.add = function (a, b, c, d, f) {\n  var g = a.toString();\n  a = this.a[g];\n  a || (a = this.a[g] = [], this.b++);\n  var e = pb(a, b, d, f);\n  -1 < e ? (b = a[e], c || (b.v = !1)) : (b = new nb(b, this.src, g, !!d, f), b.v = c, a.push(b));\n  return b;\n};\n\nfunction qb(a, b) {\n  var c = b.type;\n\n  if (c in a.a) {\n    var d = a.a[c],\n        f = Ea(d, b),\n        g;\n    (g = 0 <= f) && Array.prototype.splice.call(d, f, 1);\n    g && (ob(b), 0 == a.a[c].length && (delete a.a[c], a.b--));\n  }\n}\n\nfunction pb(a, b, c, d) {\n  for (var f = 0; f < a.length; ++f) {\n    var g = a[f];\n    if (!g.s && g.listener == b && g.capture == !!c && g.A == d) return f;\n  }\n\n  return -1;\n}\n\n;\nvar rb = \"closure_lm_\" + (1E6 * Math.random() | 0),\n    sb = {},\n    tb = 0;\n\nfunction ub(a, b, c, d, f) {\n  if (d && d.once) vb(a, b, c, d, f);else if (Array.isArray(b)) for (var g = 0; g < b.length; g++) {\n    ub(a, b[g], c, d, f);\n  } else c = wb(c), a && a[L] ? a.f.add(String(b), c, !1, u(d) ? !!d.capture : !!d, f) : xb(a, b, c, !1, d, f);\n}\n\nfunction xb(a, b, c, d, f, g) {\n  if (!b) throw Error(\"Invalid event type\");\n  var e = u(f) ? !!f.capture : !!f,\n      h = yb(a);\n  h || (a[rb] = h = new M(a));\n  c = h.add(b, c, d, e, g);\n\n  if (!c.proxy) {\n    d = zb();\n    c.proxy = d;\n    d.src = a;\n    d.listener = c;\n    if (a.addEventListener) kb || (f = e), void 0 === f && (f = !1), a.addEventListener(b.toString(), d, f);else if (a.attachEvent) a.attachEvent(Ab(b.toString()), d);else if (a.addListener && a.removeListener) a.addListener(d);else throw Error(\"addEventListener and attachEvent are unavailable.\");\n    tb++;\n  }\n}\n\nfunction zb() {\n  var a = Bb,\n      b = ib ? function (c) {\n    return a.call(b.src, b.listener, c);\n  } : function (c) {\n    c = a.call(b.src, b.listener, c);\n    if (!c) return c;\n  };\n  return b;\n}\n\nfunction vb(a, b, c, d, f) {\n  if (Array.isArray(b)) for (var g = 0; g < b.length; g++) {\n    vb(a, b[g], c, d, f);\n  } else c = wb(c), a && a[L] ? a.f.add(String(b), c, !0, u(d) ? !!d.capture : !!d, f) : xb(a, b, c, !0, d, f);\n}\n\nfunction Cb(a, b, c, d, f) {\n  if (Array.isArray(b)) for (var g = 0; g < b.length; g++) {\n    Cb(a, b[g], c, d, f);\n  } else (d = u(d) ? !!d.capture : !!d, c = wb(c), a && a[L]) ? (a = a.f, b = String(b).toString(), b in a.a && (g = a.a[b], c = pb(g, c, d, f), -1 < c && (ob(g[c]), Array.prototype.splice.call(g, c, 1), 0 == g.length && (delete a.a[b], a.b--)))) : a && (a = yb(a)) && (b = a.a[b.toString()], a = -1, b && (a = pb(b, c, d, f)), (c = -1 < a ? b[a] : null) && Db(c));\n}\n\nfunction Db(a) {\n  if (\"number\" !== typeof a && a && !a.s) {\n    var b = a.src;\n    if (b && b[L]) qb(b.f, a);else {\n      var c = a.type,\n          d = a.proxy;\n      b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent ? b.detachEvent(Ab(c), d) : b.addListener && b.removeListener && b.removeListener(d);\n      tb--;\n      (c = yb(b)) ? (qb(c, a), 0 == c.b && (c.src = null, b[rb] = null)) : ob(a);\n    }\n  }\n}\n\nfunction Ab(a) {\n  return a in sb ? sb[a] : sb[a] = \"on\" + a;\n}\n\nfunction Fb(a, b, c, d) {\n  var f = !0;\n  if (a = yb(a)) if (b = a.a[b.toString()]) for (b = b.concat(), a = 0; a < b.length; a++) {\n    var g = b[a];\n    g && g.capture == c && !g.s && (g = Gb(g, d), f = f && !1 !== g);\n  }\n  return f;\n}\n\nfunction Gb(a, b) {\n  var c = a.listener,\n      d = a.A || a.src;\n  a.v && Db(a);\n  return c.call(d, b);\n}\n\nfunction Bb(a, b) {\n  if (a.s) return !0;\n\n  if (!ib) {\n    var c = b || r(\"window.event\");\n    b = new K(c, this);\n    var d = !0;\n\n    if (!(0 > c.keyCode || void 0 != c.returnValue)) {\n      a: {\n        var f = !1;\n        if (0 == c.keyCode) try {\n          c.keyCode = -1;\n          break a;\n        } catch (e) {\n          f = !0;\n        }\n        if (f || void 0 == c.returnValue) c.returnValue = !0;\n      }\n\n      c = [];\n\n      for (f = b.a; f; f = f.parentNode) {\n        c.push(f);\n      }\n\n      a = a.type;\n\n      for (f = c.length - 1; 0 <= f; f--) {\n        b.a = c[f];\n        var g = Fb(c[f], a, !0, b);\n        d = d && g;\n      }\n\n      for (f = 0; f < c.length; f++) {\n        b.a = c[f], g = Fb(c[f], a, !1, b), d = d && g;\n      }\n    }\n\n    return d;\n  }\n\n  return Gb(a, new K(b, this));\n}\n\nfunction yb(a) {\n  a = a[rb];\n  return a instanceof M ? a : null;\n}\n\nvar Hb = \"__closure_events_fn_\" + (1E9 * Math.random() >>> 0);\n\nfunction wb(a) {\n  if (\"function\" == ia(a)) return a;\n  a[Hb] || (a[Hb] = function (b) {\n    return a.handleEvent(b);\n  });\n  return a[Hb];\n}\n\n;\n\nfunction N() {\n  eb.call(this);\n  this.f = new M(this);\n  this.N = this;\n}\n\ny(N, eb);\nN.prototype[L] = !0;\n\nN.prototype.addEventListener = function (a, b, c, d) {\n  ub(this, a, b, c, d);\n};\n\nN.prototype.removeEventListener = function (a, b, c, d) {\n  Cb(this, a, b, c, d);\n};\n\nfunction O(a, b) {\n  a = a.N;\n  var c = b.type || b;\n  if (\"string\" === typeof b) b = new J(b, a);else if (b instanceof J) b.target = b.target || a;else {\n    var d = b;\n    b = new J(c, a);\n    Oa(b, d);\n  }\n  a = b.a = a;\n  Ib(a, c, !0, b);\n  Ib(a, c, !1, b);\n}\n\nfunction Ib(a, b, c, d) {\n  if (b = a.f.a[String(b)]) {\n    b = b.concat();\n\n    for (var f = !0, g = 0; g < b.length; ++g) {\n      var e = b[g];\n\n      if (e && !e.s && e.capture == c) {\n        var h = e.listener,\n            k = e.A || e.src;\n        e.v && qb(a.f, e);\n        f = !1 !== h.call(k, d) && f;\n      }\n    }\n  }\n}\n\n;\n\nfunction Jb(a, b, c) {\n  if (\"function\" == ia(a)) c && (a = w(a, c));else if (a && \"function\" == typeof a.handleEvent) a = w(a.handleEvent, a);else throw Error(\"Invalid listener argument\");\n  return 2147483647 < Number(b) ? -1 : q.setTimeout(a, b || 0);\n}\n\n;\n\nfunction Kb(a, b, c) {\n  this.reset(a, b, c, void 0, void 0);\n}\n\nKb.prototype.a = null;\nvar Lb = 0;\n\nKb.prototype.reset = function (a, b, c, d, f) {\n  \"number\" == typeof f || Lb++;\n  d || na();\n  delete this.a;\n};\n\nfunction Mb(a) {\n  this.f = a;\n  this.b = this.c = this.a = null;\n}\n\nfunction Nb(a, b) {\n  this.name = a;\n  this.value = b;\n}\n\nNb.prototype.toString = function () {\n  return this.name;\n};\n\nvar Ob = new Nb(\"SEVERE\", 1E3),\n    Pb = new Nb(\"CONFIG\", 700),\n    Qb = new Nb(\"FINE\", 500);\n\nfunction Rb(a) {\n  if (a.c) return a.c;\n  if (a.a) return Rb(a.a);\n  ua(\"Root logger has no level set.\");\n  return null;\n}\n\nMb.prototype.log = function (a, b, c) {\n  if (a.value >= Rb(this).value) for (\"function\" == ia(b) && (b = b()), a = new Kb(a, String(b), this.f), c && (a.a = c), c = this; c;) {\n    c = c.a;\n  }\n};\n\nvar Sb = {},\n    Tb = null;\n\nfunction Ub(a) {\n  Tb || (Tb = new Mb(\"\"), Sb[\"\"] = Tb, Tb.c = Pb);\n  var b;\n\n  if (!(b = Sb[a])) {\n    b = new Mb(a);\n    var c = a.lastIndexOf(\".\"),\n        d = a.substr(c + 1);\n    c = Ub(a.substr(0, c));\n    c.b || (c.b = {});\n    c.b[d] = b;\n    b.a = c;\n    Sb[a] = b;\n  }\n\n  return b;\n}\n\n;\n\nfunction P(a, b) {\n  a && a.log(Qb, b, void 0);\n}\n\n;\n\nfunction Vb() {}\n\nVb.prototype.a = null;\n\nfunction Wb(a) {\n  var b;\n  (b = a.a) || (b = {}, Xb(a) && (b[0] = !0, b[1] = !0), b = a.a = b);\n  return b;\n}\n\n;\nvar Yb;\n\nfunction Zb() {}\n\ny(Zb, Vb);\n\nfunction $b(a) {\n  return (a = Xb(a)) ? new ActiveXObject(a) : new XMLHttpRequest();\n}\n\nfunction Xb(a) {\n  if (!a.b && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var b = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\"], c = 0; c < b.length; c++) {\n      var d = b[c];\n\n      try {\n        return new ActiveXObject(d), a.b = d;\n      } catch (f) {}\n    }\n\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n\n  return a.b;\n}\n\nYb = new Zb();\n\nfunction Q(a, b) {\n  this.b = {};\n  this.a = [];\n  this.c = 0;\n  var c = arguments.length;\n\n  if (1 < c) {\n    if (c % 2) throw Error(\"Uneven number of arguments\");\n\n    for (var d = 0; d < c; d += 2) {\n      this.set(arguments[d], arguments[d + 1]);\n    }\n  } else a && ac(this, a);\n}\n\nQ.prototype.f = function () {\n  bc(this);\n  return this.a.concat();\n};\n\nfunction bc(a) {\n  if (a.c != a.a.length) {\n    for (var b = 0, c = 0; b < a.a.length;) {\n      var d = a.a[b];\n      R(a.b, d) && (a.a[c++] = d);\n      b++;\n    }\n\n    a.a.length = c;\n  }\n\n  if (a.c != a.a.length) {\n    var f = {};\n\n    for (c = b = 0; b < a.a.length;) {\n      d = a.a[b], R(f, d) || (a.a[c++] = d, f[d] = 1), b++;\n    }\n\n    a.a.length = c;\n  }\n}\n\nQ.prototype.get = function (a, b) {\n  return R(this.b, a) ? this.b[a] : b;\n};\n\nQ.prototype.set = function (a, b) {\n  R(this.b, a) || (this.c++, this.a.push(a));\n  this.b[a] = b;\n};\n\nfunction ac(a, b) {\n  if (b instanceof Q) for (var c = b.f(), d = 0; d < c.length; d++) {\n    a.set(c[d], b.get(c[d]));\n  } else for (c in b) {\n    a.set(c, b[c]);\n  }\n}\n\nQ.prototype.forEach = function (a, b) {\n  for (var c = this.f(), d = 0; d < c.length; d++) {\n    var f = c[d],\n        g = this.get(f);\n    a.call(b, g, f, this);\n  }\n};\n\nfunction R(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b);\n}\n\n;\nvar cc = /^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;\n\nfunction S(a) {\n  N.call(this);\n  this.headers = new Q();\n  this.D = a || null;\n  this.c = !1;\n  this.C = this.a = null;\n  this.J = this.o = \"\";\n  this.g = 0;\n  this.i = \"\";\n  this.h = this.I = this.m = this.G = !1;\n  this.l = 0;\n  this.u = null;\n  this.j = dc;\n  this.B = this.H = !1;\n}\n\ny(S, N);\nvar dc = \"\",\n    ec = S.prototype,\n    fc = Ub(\"goog.net.XhrIo\");\nec.b = fc;\nvar gc = /^https?$/i,\n    hc = [\"POST\", \"PUT\"];\n\nfunction ic(a, b, c) {\n  if (a.a) throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + a.o + \"; newUri=\" + b);\n  a.o = b;\n  a.i = \"\";\n  a.g = 0;\n  a.J = \"POST\";\n  a.G = !1;\n  a.c = !0;\n  a.a = a.D ? $b(a.D) : $b(Yb);\n  a.C = a.D ? Wb(a.D) : Wb(Yb);\n  a.a.onreadystatechange = w(a.K, a);\n\n  try {\n    P(a.b, T(a, \"Opening Xhr\")), a.I = !0, a.a.open(\"POST\", String(b), !0), a.I = !1;\n  } catch (g) {\n    P(a.b, T(a, \"Error opening Xhr: \" + g.message));\n    jc(a, g);\n    return;\n  }\n\n  b = c || \"\";\n  c = new Q(a.headers);\n  var d = Fa(c.f()),\n      f = q.FormData && b instanceof q.FormData;\n  !(0 <= Ea(hc, \"POST\")) || d || f || c.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n  c.forEach(function (g, e) {\n    this.a.setRequestHeader(e, g);\n  }, a);\n  a.j && (a.a.responseType = a.j);\n  \"withCredentials\" in a.a && a.a.withCredentials !== a.H && (a.a.withCredentials = a.H);\n\n  try {\n    kc(a), 0 < a.l && (a.B = lc(a.a), P(a.b, T(a, \"Will abort after \" + a.l + \"ms if incomplete, xhr2 \" + a.B)), a.B ? (a.a.timeout = a.l, a.a.ontimeout = w(a.L, a)) : a.u = Jb(a.L, a.l, a)), P(a.b, T(a, \"Sending request\")), a.m = !0, a.a.send(b), a.m = !1;\n  } catch (g) {\n    P(a.b, T(a, \"Send error: \" + g.message)), jc(a, g);\n  }\n}\n\nfunction lc(a) {\n  return H && ab(9) && \"number\" === typeof a.timeout && void 0 !== a.ontimeout;\n}\n\nfunction Ga(a) {\n  return \"content-type\" == a.toLowerCase();\n}\n\nS.prototype.L = function () {\n  \"undefined\" != typeof ha && this.a && (this.i = \"Timed out after \" + this.l + \"ms, aborting\", this.g = 8, P(this.b, T(this, this.i)), O(this, \"timeout\"), this.abort(8));\n};\n\nfunction jc(a, b) {\n  a.c = !1;\n  a.a && (a.h = !0, a.a.abort(), a.h = !1);\n  a.i = b;\n  a.g = 5;\n  mc(a);\n  nc(a);\n}\n\nfunction mc(a) {\n  a.G || (a.G = !0, O(a, \"complete\"), O(a, \"error\"));\n}\n\nS.prototype.abort = function (a) {\n  this.a && this.c && (P(this.b, T(this, \"Aborting\")), this.c = !1, this.h = !0, this.a.abort(), this.h = !1, this.g = a || 7, O(this, \"complete\"), O(this, \"abort\"), nc(this));\n};\n\nS.prototype.K = function () {\n  this.F || (this.I || this.m || this.h ? oc(this) : this.O());\n};\n\nS.prototype.O = function () {\n  oc(this);\n};\n\nfunction oc(a) {\n  if (a.c && \"undefined\" != typeof ha) if (a.C[1] && 4 == U(a) && 2 == a.getStatus()) P(a.b, T(a, \"Local request error detected and ignored\"));else if (a.m && 4 == U(a)) Jb(a.K, 0, a);else if (O(a, \"readystatechange\"), 4 == U(a)) {\n    P(a.b, T(a, \"Request complete\"));\n    a.c = !1;\n\n    try {\n      var b = a.getStatus();\n\n      a: switch (b) {\n        case 200:\n        case 201:\n        case 202:\n        case 204:\n        case 206:\n        case 304:\n        case 1223:\n          var c = !0;\n          break a;\n\n        default:\n          c = !1;\n      }\n\n      var d;\n\n      if (!(d = c)) {\n        var f;\n\n        if (f = 0 === b) {\n          var g = String(a.o).match(cc)[1] || null;\n\n          if (!g && q.self && q.self.location) {\n            var e = q.self.location.protocol;\n            g = e.substr(0, e.length - 1);\n          }\n\n          f = !gc.test(g ? g.toLowerCase() : \"\");\n        }\n\n        d = f;\n      }\n\n      if (d) O(a, \"complete\"), O(a, \"success\");else {\n        a.g = 6;\n\n        try {\n          var h = 2 < U(a) ? a.a.statusText : \"\";\n        } catch (k) {\n          P(a.b, \"Can not get status: \" + k.message), h = \"\";\n        }\n\n        a.i = h + \" [\" + a.getStatus() + \"]\";\n        mc(a);\n      }\n    } finally {\n      nc(a);\n    }\n  }\n}\n\nfunction nc(a) {\n  if (a.a) {\n    kc(a);\n    var b = a.a,\n        c = a.C[0] ? t : null;\n    a.a = null;\n    a.C = null;\n    O(a, \"ready\");\n\n    try {\n      b.onreadystatechange = c;\n    } catch (d) {\n      (a = a.b) && a.log(Ob, \"Problem encountered resetting onreadystatechange: \" + d.message, void 0);\n    }\n  }\n}\n\nfunction kc(a) {\n  a.a && a.B && (a.a.ontimeout = null);\n  a.u && (q.clearTimeout(a.u), a.u = null);\n}\n\nfunction U(a) {\n  return a.a ? a.a.readyState : 0;\n}\n\nS.prototype.getStatus = function () {\n  try {\n    return 2 < U(this) ? this.a.status : -1;\n  } catch (a) {\n    return -1;\n  }\n};\n\nfunction pc(a) {\n  try {\n    if (!a.a) return null;\n    if (\"response\" in a.a) return a.a.response;\n\n    switch (a.j) {\n      case dc:\n      case \"text\":\n        return a.a.responseText;\n\n      case \"arraybuffer\":\n        if (\"mozResponseArrayBuffer\" in a.a) return a.a.mozResponseArrayBuffer;\n    }\n\n    var b = a.b;\n    b && b.log(Ob, \"Response type \" + a.j + \" is not supported on this browser\", void 0);\n    return null;\n  } catch (c) {\n    return P(a.b, \"Can not get response: \" + c.message), null;\n  }\n}\n\nfunction qc(a, b) {\n  if (a.a && 4 == U(a)) return a = a.a.getResponseHeader(b), null === a ? void 0 : a;\n}\n\nfunction rc(a) {\n  var b = {};\n  a = (a.a && 4 == U(a) ? a.a.getAllResponseHeaders() || \"\" : \"\").split(\"\\r\\n\");\n\n  for (var c = 0; c < a.length; c++) {\n    if (!/^[\\s\\xa0]*$/.test(a[c])) {\n      var d = Pa(a[c]),\n          f = d[0];\n      d = d[1];\n\n      if (\"string\" === typeof d) {\n        d = d.trim();\n        var g = b[f] || [];\n        b[f] = g;\n        g.push(d);\n      }\n    }\n  }\n\n  return Ma(b, function (e) {\n    return e.join(\", \");\n  });\n}\n\nfunction T(a, b) {\n  return b + \" [\" + a.J + \" \" + a.o + \" \" + a.getStatus() + \"]\";\n}\n\n;\nvar sc = {},\n    V = null;\n\nfunction tc(a) {\n  var b = a.length,\n      c = 3 * b / 4;\n  c % 3 ? c = Math.floor(c) : E(\"=.\", a[b - 1]) && (c = E(\"=.\", a[b - 2]) ? c - 2 : c - 1);\n  var d = new Uint8Array(c),\n      f = 0;\n  uc(a, function (g) {\n    d[f++] = g;\n  });\n  return d.subarray(0, f);\n}\n\nfunction uc(a, b) {\n  function c(k) {\n    for (; d < a.length;) {\n      var l = a.charAt(d++),\n          m = V[l];\n      if (null != m) return m;\n      if (!/^[\\s\\xa0]*$/.test(l)) throw Error(\"Unknown base64 encoding at char: \" + l);\n    }\n\n    return k;\n  }\n\n  vc();\n\n  for (var d = 0;;) {\n    var f = c(-1),\n        g = c(0),\n        e = c(64),\n        h = c(64);\n    if (64 === h && -1 === f) break;\n    b(f << 2 | g >> 4);\n    64 != e && (b(g << 4 & 240 | e >> 2), 64 != h && b(e << 6 & 192 | h));\n  }\n}\n\nfunction vc() {\n  if (!V) {\n    V = {};\n\n    for (var a = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split(\"\"), b = [\"+/=\", \"+/\", \"-_=\", \"-_.\", \"-_\"], c = 0; 5 > c; c++) {\n      var d = a.concat(b[c].split(\"\"));\n      sc[c] = d;\n\n      for (var f = 0; f < d.length; f++) {\n        var g = d[f];\n        void 0 === V[g] && (V[g] = f);\n      }\n    }\n  }\n}\n\n;\nvar wc = [\"content-type\", \"grpc-status\", \"grpc-message\"];\n\nfunction W(a) {\n  this.a = a.T;\n  this.l = null;\n  this.b = [];\n  this.h = [];\n  this.g = [];\n  this.f = [];\n  this.c = [];\n  this.j = !1;\n  this.i = 0;\n  this.m = new va();\n  var b = this;\n  ub(this.a, \"readystatechange\", function () {\n    var c = b.a;\n\n    if (c = c.a ? c.a.getResponseHeader(\"Content-Type\") : null) {\n      c = c.toLowerCase();\n\n      if (0 == c.lastIndexOf(\"application/grpc-web-text\", 0)) {\n        c = b.a;\n\n        try {\n          var d = c.a ? c.a.responseText : \"\";\n        } catch (l) {\n          P(c.b, \"Can not get responseText: \" + l.message), d = \"\";\n        }\n\n        c = d || \"\";\n        d = c.length - c.length % 4;\n        c = c.substr(b.i, d - b.i);\n        if (0 == c.length) return;\n        b.i = d;\n        c = tc(c);\n      } else if (0 == c.lastIndexOf(\"application/grpc\", 0)) c = new Uint8Array(pc(b.a));else {\n        X(b, {\n          code: 2,\n          message: \"Unknown Content-type received.\",\n          metadata: {}\n        });\n        return;\n      }\n\n      d = null;\n\n      try {\n        d = xa(b.m, c);\n      } catch (l) {\n        X(b, {\n          code: 2,\n          message: \"Error in parsing response body\",\n          metadata: {}\n        });\n      }\n\n      if (d) for (c = 0; c < d.length; c++) {\n        if (ya in d[c]) {\n          var f = d[c][ya];\n          if (f) try {\n            var g = b.l(f);\n\n            if (g) {\n              f = b;\n\n              for (var e = g, h = 0; h < f.b.length; h++) {\n                f.b[h](e);\n              }\n            }\n          } catch (l) {\n            X(b, {\n              code: 2,\n              message: \"Error in response deserializer function.\",\n              metadata: {}\n            });\n          }\n        }\n\n        if (D in d[c] && 0 < d[c][D].length) {\n          f = \"\";\n\n          for (e = 0; e < d[c][D].length; e++) {\n            f += String.fromCharCode(d[c][D][e]);\n          }\n\n          f = f.trim().split(\"\\r\\n\");\n          e = {};\n\n          for (h = 0; h < f.length; h++) {\n            var k = f[h].indexOf(\":\");\n            e[f[h].substring(0, k).trim()] = f[h].substring(k + 1).trim();\n          }\n\n          f = e;\n          e = 0;\n          h = \"\";\n          \"grpc-status\" in f && (e = f[\"grpc-status\"], delete f[\"grpc-status\"]);\n          \"grpc-message\" in f && (h = f[\"grpc-message\"], delete f[\"grpc-message\"]);\n          X(b, {\n            code: Number(e),\n            message: h,\n            metadata: f\n          });\n        }\n      }\n    }\n  });\n  ub(this.a, \"complete\", function () {\n    var c = b.a.g,\n        d = \"\",\n        f = {},\n        g = rc(b.a);\n    Object.keys(g).forEach(function (h) {\n      wc.includes(h) || (f[h] = g[h]);\n    });\n    xc(b, f);\n\n    if (0 != c) {\n      switch (c) {\n        case 7:\n          var e = 10;\n          break;\n\n        case 8:\n          e = 4;\n          break;\n\n        case 6:\n          e = Da(b.a.getStatus());\n          break;\n\n        default:\n          e = 14;\n      }\n\n      10 == e && b.j || X(b, {\n        code: e,\n        message: sa(c),\n        metadata: {}\n      });\n    } else c = !1, \"grpc-status\" in g && (e = qc(b.a, \"grpc-status\"), \"grpc-message\" in g && (d = qc(b.a, \"grpc-message\")), 0 != Number(e) && (X(b, {\n      code: Number(e),\n      message: d,\n      metadata: g\n    }), c = !0)), c || yc(b);\n  });\n}\n\nW.prototype.on = function (a, b) {\n  \"data\" == a ? this.b.push(b) : \"status\" == a ? this.h.push(b) : \"metadata\" == a ? this.g.push(b) : \"end\" == a ? this.c.push(b) : \"error\" == a && this.f.push(b);\n  return this;\n};\n\nfunction Y(a, b) {\n  b = a.indexOf(b);\n  -1 < b && a.splice(b, 1);\n}\n\nW.prototype.removeListener = function (a, b) {\n  \"data\" == a ? Y(this.b, b) : \"status\" == a ? Y(this.h, b) : \"metadata\" == a ? Y(this.g, b) : \"end\" == a ? Y(this.c, b) : \"error\" == a && Y(this.f, b);\n  return this;\n};\n\nW.prototype.cancel = function () {\n  this.j = !0;\n  this.a.abort();\n};\n\nfunction X(a, b) {\n  if (0 != b.code) for (var c = {\n    code: b.code,\n    message: decodeURIComponent(b.message || \"\"),\n    metadata: b.metadata\n  }, d = 0; d < a.f.length; d++) {\n    a.f[d](c);\n  }\n  b = {\n    code: b.code,\n    details: decodeURIComponent(b.message || \"\"),\n    metadata: b.metadata\n  };\n\n  for (c = 0; c < a.h.length; c++) {\n    a.h[c](b);\n  }\n}\n\nfunction xc(a, b) {\n  for (var c = 0; c < a.g.length; c++) {\n    a.g[c](b);\n  }\n}\n\nfunction yc(a) {\n  for (var b = 0; b < a.c.length; b++) {\n    a.c[b]();\n  }\n}\n\nW.prototype.cancel = W.prototype.cancel;\nW.prototype.removeListener = W.prototype.removeListener;\nW.prototype.on = W.prototype.on;\n\nfunction zc(a) {\n  var b = \"\";\n  La(a, function (c, d) {\n    b += d;\n    b += \":\";\n    b += c;\n    b += \"\\r\\n\";\n  });\n  return b;\n}\n\n;\n\nfunction Z(a) {\n  this.a = r(\"format\", a) || \"text\";\n  this.f = r(\"suppressCorsPreflight\", a) || !1;\n  this.c = r(\"withCredentials\", a) || !1;\n  this.b = r(\"streamInterceptors\", a) || [];\n  this.g = r(\"unaryInterceptors\", a) || [];\n}\n\nZ.prototype.P = function (a, b, c, d, f) {\n  var g = this;\n  d = ra(a, b, \"unary\", d);\n  var e = a.substr(0, a.length - d.name.length);\n  a = Ac(function (h) {\n    return Bc(g, h, e);\n  }, this.b).call(this, qa(d, b, c));\n  Cc(a, f, !1);\n  return new B(a);\n};\n\nZ.prototype.M = function (a, b, c, d) {\n  var f = this;\n  d = ra(a, b, \"unary\", d);\n  var g = a.substr(0, a.length - d.name.length);\n  return Ac(function (e) {\n    return new Promise(function (h, k) {\n      var l = Bc(f, e, g),\n          m,\n          p,\n          n;\n      Cc(l, function (v, x, F, Eb) {\n        v ? k(v) : x ? n = x : F ? p = F : Eb ? m = Eb : (v = e.getMethodDescriptor(), x = m, x = void 0 === x ? {} : x, h(new A(n, v, x, void 0 === p ? null : p)));\n      }, !0);\n    });\n  }, this.g).call(this, qa(d, b, c)).then(function (e) {\n    return e.getResponseMessage();\n  });\n};\n\nZ.prototype.unaryCall = function (a, b, c, d) {\n  return this.M(a, b, c, d);\n};\n\nZ.prototype.R = function (a, b, c, d) {\n  var f = this;\n  d = ra(a, b, \"server_streaming\", d);\n  var g = a.substr(0, a.length - d.name.length);\n  return Ac(function (e) {\n    return Bc(f, e, g);\n  }, this.b).call(this, qa(d, b, c));\n};\n\nfunction Bc(a, b, c) {\n  var d = b.getMethodDescriptor(),\n      f = c + d.name;\n  c = new S();\n  c.H = a.c;\n  var g = new W({\n    T: c\n  });\n  g.l = d.b;\n  ac(c.headers, b.getMetadata());\n  \"text\" == a.a ? (c.headers.set(\"Content-Type\", \"application/grpc-web-text\"), c.headers.set(\"Accept\", \"application/grpc-web-text\")) : c.headers.set(\"Content-Type\", \"application/grpc-web+proto\");\n  c.headers.set(\"X-User-Agent\", \"grpc-web-javascript/0.1\");\n  c.headers.set(\"X-Grpc-Web\", \"1\");\n\n  if (R(c.headers.b, \"deadline\")) {\n    var e = c.headers.get(\"deadline\");\n    e = Math.round(e - new Date().getTime());\n    var h = c.headers;\n    R(h.b, \"deadline\") && (delete h.b.deadline, h.c--, h.a.length > 2 * h.c && bc(h));\n    Infinity === e && (e = 0);\n    0 < e && c.headers.set(\"grpc-timeout\", e + \"m\");\n  }\n\n  if (a.f) {\n    h = c.headers;\n    bc(h);\n    e = {};\n\n    for (var k = 0; k < h.a.length; k++) {\n      var l = h.a[k];\n      e[l] = h.b[l];\n    }\n\n    h = c.headers;\n    h.b = {};\n    h.a.length = 0;\n    h.c = 0;\n\n    b: {\n      for (m in e) {\n        var m = !1;\n        break b;\n      }\n\n      m = !0;\n    }\n\n    if (!m) if (e = zc(e), \"string\" === typeof f) {\n      if (m = encodeURIComponent(\"$httpHeaders\"), e = null != e ? \"=\" + encodeURIComponent(String(e)) : \"\", m += e) e = f.indexOf(\"#\"), 0 > e && (e = f.length), h = f.indexOf(\"?\"), 0 > h || h > e ? (h = e, k = \"\") : k = f.substring(h + 1, e), f = [f.substr(0, h), k, f.substr(e)], e = f[1], f[1] = m ? e ? e + \"&\" + m : m : e, f = f[0] + (f[1] ? \"?\" + f[1] : \"\") + f[2];\n    } else f.a(\"$httpHeaders\", e);\n  }\n\n  b = (0, d.a)(b.getRequestMessage());\n  d = b.length;\n  m = [0, 0, 0, 0];\n  e = new Uint8Array(5 + d);\n\n  for (h = 3; 0 <= h; h--) {\n    m[h] = d % 256, d >>>= 8;\n  }\n\n  e.set(new Uint8Array(m), 1);\n  e.set(b, 5);\n  b = e;\n\n  if (\"text\" == a.a) {\n    a = b;\n    var p;\n    void 0 === p && (p = 0);\n    vc();\n    p = sc[p];\n    b = [];\n\n    for (d = 0; d < a.length; d += 3) {\n      l = a[d];\n      var n = (m = d + 1 < a.length) ? a[d + 1] : 0;\n      k = (e = d + 2 < a.length) ? a[d + 2] : 0;\n      h = l >> 2;\n      l = (l & 3) << 4 | n >> 4;\n      n = (n & 15) << 2 | k >> 6;\n      k &= 63;\n      e || (k = 64, m || (n = 64));\n      b.push(p[h], p[l], p[n] || \"\", p[k] || \"\");\n    }\n\n    b = b.join(\"\");\n  } else \"binary\" == a.a && (c.j = \"arraybuffer\");\n\n  ic(c, f, b);\n  return g;\n}\n\nfunction Cc(a, b, c) {\n  var d = null,\n      f = !1;\n  a.on(\"data\", function (g) {\n    d = g;\n  });\n  a.on(\"error\", function (g) {\n    0 == g.code || f || (f = !0, b(g, null));\n  });\n  a.on(\"status\", function (g) {\n    0 == g.code || f ? c && b(null, null, g) : (f = !0, b({\n      code: g.code,\n      message: g.details,\n      metadata: g.metadata\n    }, null));\n  });\n  if (c) a.on(\"metadata\", function (g) {\n    b(null, null, null, g);\n  });\n  a.on(\"end\", function () {\n    f || (null == d ? b({\n      code: 2,\n      message: \"Incomplete response\"\n    }) : b(null, d));\n    c && b(null, null);\n  });\n}\n\nfunction Ac(a, b) {\n  var c = a;\n  b.forEach(function (d) {\n    var f = c;\n\n    c = function c(g) {\n      return d.intercept(g, f);\n    };\n  });\n  return c;\n}\n\nZ.prototype.serverStreaming = Z.prototype.R;\nZ.prototype.unaryCall = Z.prototype.unaryCall;\nZ.prototype.thenableCall = Z.prototype.M;\nZ.prototype.rpcCall = Z.prototype.P;\nmodule.exports.AbstractClientBase = {\n  MethodInfo: function MethodInfo(a, b, c, d, f) {\n    this.name = d;\n    this.b = f;\n    this.f = a;\n    this.a = b;\n    this.c = c;\n  }\n};\nmodule.exports.GrpcWebClientBase = Z;\nmodule.exports.StatusCode = {\n  OK: 0,\n  CANCELLED: 1,\n  UNKNOWN: 2,\n  INVALID_ARGUMENT: 3,\n  DEADLINE_EXCEEDED: 4,\n  NOT_FOUND: 5,\n  ALREADY_EXISTS: 6,\n  PERMISSION_DENIED: 7,\n  UNAUTHENTICATED: 16,\n  RESOURCE_EXHAUSTED: 8,\n  FAILED_PRECONDITION: 9,\n  ABORTED: 10,\n  OUT_OF_RANGE: 11,\n  UNIMPLEMENTED: 12,\n  INTERNAL: 13,\n  UNAVAILABLE: 14,\n  DATA_LOSS: 15\n};\nmodule.exports.MethodDescriptor = pa;\nmodule.exports.MethodType = {\n  UNARY: \"unary\",\n  SERVER_STREAMING: \"server_streaming\"\n};","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : factory(global.URI = global.URI || {});\n})(this, function (exports) {\n  'use strict';\n\n  function merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n      sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n      sets[0] = sets[0].slice(0, -1);\n      var xl = sets.length - 1;\n\n      for (var x = 1; x < xl; ++x) {\n        sets[x] = sets[x].slice(1, -1);\n      }\n\n      sets[xl] = sets[xl].slice(1);\n      return sets.join('');\n    } else {\n      return sets[0];\n    }\n  }\n\n  function subexp(str) {\n    return \"(?:\" + str + \")\";\n  }\n\n  function typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n  }\n\n  function toUpperCase(str) {\n    return str.toUpperCase();\n  }\n\n  function toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n  }\n\n  function assign(target, source) {\n    var obj = target;\n\n    if (source) {\n      for (var key in source) {\n        obj[key] = source[key];\n      }\n    }\n\n    return obj;\n  }\n\n  function buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n      NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n      NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n      NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n      NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n      NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n      NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n      NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n      ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n      UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n      OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n      PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n      IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n      IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n\n    };\n  }\n\n  var URI_PROTOCOL = buildExps(false);\n  var IRI_PROTOCOL = buildExps(true);\n\n  var slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n\n  var toConsumableArray = function toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  };\n  /** Highest positive signed 32-bit float value */\n\n\n  var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n  /** Bootstring parameters */\n\n  var base = 36;\n  var tMin = 1;\n  var tMax = 26;\n  var skew = 38;\n  var damp = 700;\n  var initialBias = 72;\n  var initialN = 128; // 0x80\n\n  var delimiter = '-'; // '\\x2D'\n\n  /** Regular expressions */\n\n  var regexPunycode = /^xn--/;\n  var regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\n\n  var regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n  /** Error messages */\n\n  var errors = {\n    'overflow': 'Overflow: input needs wider integers to process',\n    'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n    'invalid-input': 'Invalid input'\n  };\n  /** Convenience shortcuts */\n\n  var baseMinusTMin = base - tMin;\n  var floor = Math.floor;\n  var stringFromCharCode = String.fromCharCode;\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A generic error utility function.\n   * @private\n   * @param {String} type The error type.\n   * @returns {Error} Throws a `RangeError` with the applicable error message.\n   */\n\n  function error$1(type) {\n    throw new RangeError(errors[type]);\n  }\n  /**\n   * A generic `Array#map` utility function.\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function that gets called for every array\n   * item.\n   * @returns {Array} A new array of values returned by the callback function.\n   */\n\n\n  function map(array, fn) {\n    var result = [];\n    var length = array.length;\n\n    while (length--) {\n      result[length] = fn(array[length]);\n    }\n\n    return result;\n  }\n  /**\n   * A simple `Array#map`-like wrapper to work with domain name strings or email\n   * addresses.\n   * @private\n   * @param {String} domain The domain name or email address.\n   * @param {Function} callback The function that gets called for every\n   * character.\n   * @returns {Array} A new string of characters returned by the callback\n   * function.\n   */\n\n\n  function mapDomain(string, fn) {\n    var parts = string.split('@');\n    var result = '';\n\n    if (parts.length > 1) {\n      // In email addresses, only the domain name should be punycoded. Leave\n      // the local part (i.e. everything up to `@`) intact.\n      result = parts[0] + '@';\n      string = parts[1];\n    } // Avoid `split(regex)` for IE8 compatibility. See #17.\n\n\n    string = string.replace(regexSeparators, '\\x2E');\n    var labels = string.split('.');\n    var encoded = map(labels, fn).join('.');\n    return result + encoded;\n  }\n  /**\n   * Creates an array containing the numeric code points of each Unicode\n   * character in the string. While JavaScript uses UCS-2 internally,\n   * this function will convert a pair of surrogate halves (each of which\n   * UCS-2 exposes as separate characters) into a single code point,\n   * matching UTF-16.\n   * @see `punycode.ucs2.encode`\n   * @see <https://mathiasbynens.be/notes/javascript-encoding>\n   * @memberOf punycode.ucs2\n   * @name decode\n   * @param {String} string The Unicode input string (UCS-2).\n   * @returns {Array} The new array of code points.\n   */\n\n\n  function ucs2decode(string) {\n    var output = [];\n    var counter = 0;\n    var length = string.length;\n\n    while (counter < length) {\n      var value = string.charCodeAt(counter++);\n\n      if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n        // It's a high surrogate, and there is a next character.\n        var extra = string.charCodeAt(counter++);\n\n        if ((extra & 0xFC00) == 0xDC00) {\n          // Low surrogate.\n          output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n        } else {\n          // It's an unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair.\n          output.push(value);\n          counter--;\n        }\n      } else {\n        output.push(value);\n      }\n    }\n\n    return output;\n  }\n  /**\n   * Creates a string based on an array of numeric code points.\n   * @see `punycode.ucs2.decode`\n   * @memberOf punycode.ucs2\n   * @name encode\n   * @param {Array} codePoints The array of numeric code points.\n   * @returns {String} The new Unicode string (UCS-2).\n   */\n\n\n  var ucs2encode = function ucs2encode(array) {\n    return String.fromCodePoint.apply(String, toConsumableArray(array));\n  };\n  /**\n   * Converts a basic code point into a digit/integer.\n   * @see `digitToBasic()`\n   * @private\n   * @param {Number} codePoint The basic numeric code point value.\n   * @returns {Number} The numeric value of a basic code point (for use in\n   * representing integers) in the range `0` to `base - 1`, or `base` if\n   * the code point does not represent a value.\n   */\n\n\n  var basicToDigit = function basicToDigit(codePoint) {\n    if (codePoint - 0x30 < 0x0A) {\n      return codePoint - 0x16;\n    }\n\n    if (codePoint - 0x41 < 0x1A) {\n      return codePoint - 0x41;\n    }\n\n    if (codePoint - 0x61 < 0x1A) {\n      return codePoint - 0x61;\n    }\n\n    return base;\n  };\n  /**\n   * Converts a digit/integer into a basic code point.\n   * @see `basicToDigit()`\n   * @private\n   * @param {Number} digit The numeric value of a basic code point.\n   * @returns {Number} The basic code point whose value (when used for\n   * representing integers) is `digit`, which needs to be in the range\n   * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n   * used; else, the lowercase form is used. The behavior is undefined\n   * if `flag` is non-zero and `digit` has no uppercase form.\n   */\n\n\n  var digitToBasic = function digitToBasic(digit, flag) {\n    //  0..25 map to ASCII a..z or A..Z\n    // 26..35 map to ASCII 0..9\n    return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n  };\n  /**\n   * Bias adaptation function as per section 3.4 of RFC 3492.\n   * https://tools.ietf.org/html/rfc3492#section-3.4\n   * @private\n   */\n\n\n  var adapt = function adapt(delta, numPoints, firstTime) {\n    var k = 0;\n    delta = firstTime ? floor(delta / damp) : delta >> 1;\n    delta += floor(delta / numPoints);\n\n    for (;\n    /* no initialization */\n    delta > baseMinusTMin * tMax >> 1; k += base) {\n      delta = floor(delta / baseMinusTMin);\n    }\n\n    return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n  };\n  /**\n   * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n   * symbols.\n   * @memberOf punycode\n   * @param {String} input The Punycode string of ASCII-only symbols.\n   * @returns {String} The resulting string of Unicode symbols.\n   */\n\n\n  var decode = function decode(input) {\n    // Don't use UCS-2.\n    var output = [];\n    var inputLength = input.length;\n    var i = 0;\n    var n = initialN;\n    var bias = initialBias; // Handle the basic code points: let `basic` be the number of input code\n    // points before the last delimiter, or `0` if there is none, then copy\n    // the first basic code points to the output.\n\n    var basic = input.lastIndexOf(delimiter);\n\n    if (basic < 0) {\n      basic = 0;\n    }\n\n    for (var j = 0; j < basic; ++j) {\n      // if it's not a basic code point\n      if (input.charCodeAt(j) >= 0x80) {\n        error$1('not-basic');\n      }\n\n      output.push(input.charCodeAt(j));\n    } // Main decoding loop: start just after the last delimiter if any basic code\n    // points were copied; start at the beginning otherwise.\n\n\n    for (var index = basic > 0 ? basic + 1 : 0; index < inputLength;)\n    /* no final expression */\n    {\n      // `index` is the index of the next character to be consumed.\n      // Decode a generalized variable-length integer into `delta`,\n      // which gets added to `i`. The overflow checking is easier\n      // if we increase `i` as we go, then subtract off its starting\n      // value at the end to obtain `delta`.\n      var oldi = i;\n\n      for (var w = 1, k = base;;\n      /* no condition */\n      k += base) {\n        if (index >= inputLength) {\n          error$1('invalid-input');\n        }\n\n        var digit = basicToDigit(input.charCodeAt(index++));\n\n        if (digit >= base || digit > floor((maxInt - i) / w)) {\n          error$1('overflow');\n        }\n\n        i += digit * w;\n        var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n        if (digit < t) {\n          break;\n        }\n\n        var baseMinusT = base - t;\n\n        if (w > floor(maxInt / baseMinusT)) {\n          error$1('overflow');\n        }\n\n        w *= baseMinusT;\n      }\n\n      var out = output.length + 1;\n      bias = adapt(i - oldi, out, oldi == 0); // `i` was supposed to wrap around from `out` to `0`,\n      // incrementing `n` each time, so we'll fix that now:\n\n      if (floor(i / out) > maxInt - n) {\n        error$1('overflow');\n      }\n\n      n += floor(i / out);\n      i %= out; // Insert `n` at position `i` of the output.\n\n      output.splice(i++, 0, n);\n    }\n\n    return String.fromCodePoint.apply(String, output);\n  };\n  /**\n   * Converts a string of Unicode symbols (e.g. a domain name label) to a\n   * Punycode string of ASCII-only symbols.\n   * @memberOf punycode\n   * @param {String} input The string of Unicode symbols.\n   * @returns {String} The resulting Punycode string of ASCII-only symbols.\n   */\n\n\n  var encode = function encode(input) {\n    var output = []; // Convert the input in UCS-2 to an array of Unicode code points.\n\n    input = ucs2decode(input); // Cache the length.\n\n    var inputLength = input.length; // Initialize the state.\n\n    var n = initialN;\n    var delta = 0;\n    var bias = initialBias; // Handle the basic code points.\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var _currentValue2 = _step.value;\n\n        if (_currentValue2 < 0x80) {\n          output.push(stringFromCharCode(_currentValue2));\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    var basicLength = output.length;\n    var handledCPCount = basicLength; // `handledCPCount` is the number of code points that have been handled;\n    // `basicLength` is the number of basic code points.\n    // Finish the basic string with a delimiter unless it's empty.\n\n    if (basicLength) {\n      output.push(delimiter);\n    } // Main encoding loop:\n\n\n    while (handledCPCount < inputLength) {\n      // All non-basic code points < n have been handled already. Find the next\n      // larger one:\n      var m = maxInt;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var currentValue = _step2.value;\n\n          if (currentValue >= n && currentValue < m) {\n            m = currentValue;\n          }\n        } // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n        // but guard against overflow.\n\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var handledCPCountPlusOne = handledCPCount + 1;\n\n      if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n        error$1('overflow');\n      }\n\n      delta += (m - n) * handledCPCountPlusOne;\n      n = m;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _currentValue = _step3.value;\n\n          if (_currentValue < n && ++delta > maxInt) {\n            error$1('overflow');\n          }\n\n          if (_currentValue == n) {\n            // Represent delta as a generalized variable-length integer.\n            var q = delta;\n\n            for (var k = base;;\n            /* no condition */\n            k += base) {\n              var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n              if (q < t) {\n                break;\n              }\n\n              var qMinusT = q - t;\n              var baseMinusT = base - t;\n              output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n              q = floor(qMinusT / baseMinusT);\n            }\n\n            output.push(stringFromCharCode(digitToBasic(q, 0)));\n            bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n            delta = 0;\n            ++handledCPCount;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      ++delta;\n      ++n;\n    }\n\n    return output.join('');\n  };\n  /**\n   * Converts a Punycode string representing a domain name or an email address\n   * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n   * it doesn't matter if you call it on a string that has already been\n   * converted to Unicode.\n   * @memberOf punycode\n   * @param {String} input The Punycoded domain name or email address to\n   * convert to Unicode.\n   * @returns {String} The Unicode representation of the given Punycode\n   * string.\n   */\n\n\n  var toUnicode = function toUnicode(input) {\n    return mapDomain(input, function (string) {\n      return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n    });\n  };\n  /**\n   * Converts a Unicode string representing a domain name or an email address to\n   * Punycode. Only the non-ASCII parts of the domain name will be converted,\n   * i.e. it doesn't matter if you call it with a domain that's already in\n   * ASCII.\n   * @memberOf punycode\n   * @param {String} input The domain name or email address to convert, as a\n   * Unicode string.\n   * @returns {String} The Punycode representation of the given domain name or\n   * email address.\n   */\n\n\n  var toASCII = function toASCII(input) {\n    return mapDomain(input, function (string) {\n      return regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n    });\n  };\n  /*--------------------------------------------------------------------------*/\n\n  /** Define the public API */\n\n\n  var punycode = {\n    /**\n     * A string representing the current Punycode.js version number.\n     * @memberOf punycode\n     * @type String\n     */\n    'version': '2.1.0',\n\n    /**\n     * An object of methods to convert from JavaScript's internal character\n     * representation (UCS-2) to Unicode code points, and back.\n     * @see <https://mathiasbynens.be/notes/javascript-encoding>\n     * @memberOf punycode\n     * @type Object\n     */\n    'ucs2': {\n      'decode': ucs2decode,\n      'encode': ucs2encode\n    },\n    'decode': decode,\n    'encode': encode,\n    'toASCII': toASCII,\n    'toUnicode': toUnicode\n  };\n  /**\n   * URI.js\n   *\n   * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n   * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n   * @see http://github.com/garycourt/uri-js\n   */\n\n  /**\n   * Copyright 2011 Gary Court. All rights reserved.\n   *\n   * Redistribution and use in source and binary forms, with or without modification, are\n   * permitted provided that the following conditions are met:\n   *\n   *    1. Redistributions of source code must retain the above copyright notice, this list of\n   *       conditions and the following disclaimer.\n   *\n   *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n   *       of conditions and the following disclaimer in the documentation and/or other materials\n   *       provided with the distribution.\n   *\n   * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n   * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n   * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n   * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n   * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   *\n   * The views and conclusions contained in the software and documentation are those of the\n   * authors and should not be interpreted as representing official policies, either expressed\n   * or implied, of Gary Court.\n   */\n\n  var SCHEMES = {};\n\n  function pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n  }\n\n  function pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n\n    while (i < il) {\n      var c = parseInt(str.substr(i + 1, 2), 16);\n\n      if (c < 128) {\n        newStr += String.fromCharCode(c);\n        i += 3;\n      } else if (c >= 194 && c < 224) {\n        if (il - i >= 6) {\n          var c2 = parseInt(str.substr(i + 4, 2), 16);\n          newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n        } else {\n          newStr += str.substr(i, 6);\n        }\n\n        i += 6;\n      } else if (c >= 224) {\n        if (il - i >= 9) {\n          var _c = parseInt(str.substr(i + 4, 2), 16);\n\n          var c3 = parseInt(str.substr(i + 7, 2), 16);\n          newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n        } else {\n          newStr += str.substr(i, 9);\n        }\n\n        i += 9;\n      } else {\n        newStr += str.substr(i, 3);\n        i += 3;\n      }\n    }\n\n    return newStr;\n  }\n\n  function _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n      var decStr = pctDecChars(str);\n      return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n  }\n\n  function _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n  }\n\n  function _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n      return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n      return host;\n    }\n  }\n\n  function _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n      var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n          _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n          last = _address$toLowerCase$2[0],\n          first = _address$toLowerCase$2[1];\n\n      var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n      var lastFields = last.split(\":\").map(_stripLeadingZeros);\n      var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n      var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n      var lastFieldsStart = lastFields.length - fieldCount;\n      var fields = Array(fieldCount);\n\n      for (var x = 0; x < fieldCount; ++x) {\n        fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n      }\n\n      if (isLastFieldIPv4Address) {\n        fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n      }\n\n      var allZeroFields = fields.reduce(function (acc, field, index) {\n        if (!field || field === \"0\") {\n          var lastLongest = acc[acc.length - 1];\n\n          if (lastLongest && lastLongest.index + lastLongest.length === index) {\n            lastLongest.length++;\n          } else {\n            acc.push({\n              index: index,\n              length: 1\n            });\n          }\n        }\n\n        return acc;\n      }, []);\n      var longestZeroFields = allZeroFields.sort(function (a, b) {\n        return b.length - a.length;\n      })[0];\n      var newHost = void 0;\n\n      if (longestZeroFields && longestZeroFields.length > 1) {\n        var newFirst = fields.slice(0, longestZeroFields.index);\n        var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n        newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n      } else {\n        newHost = fields.join(\":\");\n      }\n\n      if (zone) {\n        newHost += \"%\" + zone;\n      }\n\n      return newHost;\n    } else {\n      return host;\n    }\n  }\n\n  var URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\n  var NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\n\n  function parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n\n    if (matches) {\n      if (NO_MATCH_IS_UNDEFINED) {\n        //store each component\n        components.scheme = matches[1];\n        components.userinfo = matches[3];\n        components.host = matches[4];\n        components.port = parseInt(matches[5], 10);\n        components.path = matches[6] || \"\";\n        components.query = matches[7];\n        components.fragment = matches[8]; //fix port number\n\n        if (isNaN(components.port)) {\n          components.port = matches[5];\n        }\n      } else {\n        //IE FIX for improper RegExp matching\n        //store each component\n        components.scheme = matches[1] || undefined;\n        components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n        components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n        components.port = parseInt(matches[5], 10);\n        components.path = matches[6] || \"\";\n        components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n        components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined; //fix port number\n\n        if (isNaN(components.port)) {\n          components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n        }\n      }\n\n      if (components.host) {\n        //normalize IP hosts\n        components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n      } //determine reference type\n\n\n      if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n        components.reference = \"same-document\";\n      } else if (components.scheme === undefined) {\n        components.reference = \"relative\";\n      } else if (components.fragment === undefined) {\n        components.reference = \"absolute\";\n      } else {\n        components.reference = \"uri\";\n      } //check for reference errors\n\n\n      if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n        components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n      } //find scheme handler\n\n\n      var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()]; //check if scheme can't handle IRIs\n\n      if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n        //if host component is a domain name\n        if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n          //convert Unicode IDN -> ASCII IDN\n          try {\n            components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n          } catch (e) {\n            components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n          }\n        } //convert IRI -> URI\n\n\n        _normalizeComponentEncoding(components, URI_PROTOCOL);\n      } else {\n        //normalize encodings\n        _normalizeComponentEncoding(components, protocol);\n      } //perform scheme specific parsing\n\n\n      if (schemeHandler && schemeHandler.parse) {\n        schemeHandler.parse(components, options);\n      }\n    } else {\n      components.error = components.error || \"URI can not be parsed.\";\n    }\n\n    return components;\n  }\n\n  function _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n\n    if (components.userinfo !== undefined) {\n      uriTokens.push(components.userinfo);\n      uriTokens.push(\"@\");\n    }\n\n    if (components.host !== undefined) {\n      //normalize IP hosts, add brackets and escape zone separator for IPv6\n      uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n        return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n      }));\n    }\n\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n      uriTokens.push(\":\");\n      uriTokens.push(String(components.port));\n    }\n\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n  }\n\n  var RDS1 = /^\\.\\.?\\//;\n  var RDS2 = /^\\/\\.(\\/|$)/;\n  var RDS3 = /^\\/\\.\\.(\\/|$)/;\n  var RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\n  function removeDotSegments(input) {\n    var output = [];\n\n    while (input.length) {\n      if (input.match(RDS1)) {\n        input = input.replace(RDS1, \"\");\n      } else if (input.match(RDS2)) {\n        input = input.replace(RDS2, \"/\");\n      } else if (input.match(RDS3)) {\n        input = input.replace(RDS3, \"/\");\n        output.pop();\n      } else if (input === \".\" || input === \"..\") {\n        input = \"\";\n      } else {\n        var im = input.match(RDS5);\n\n        if (im) {\n          var s = im[0];\n          input = input.slice(s.length);\n          output.push(s);\n        } else {\n          throw new Error(\"Unexpected dot segment condition\");\n        }\n      }\n    }\n\n    return output.join(\"\");\n  }\n\n  function serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = []; //find scheme handler\n\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()]; //perform scheme specific serialization\n\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n    if (components.host) {\n      //if host component is an IPv6 address\n      if (protocol.IPV6ADDRESS.test(components.host)) {} //TODO: normalize IPv6 address as per RFC 5952\n      //if host component is a domain name\n      else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n        //convert IDN via punycode\n        try {\n          components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n        } catch (e) {\n          components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n        }\n      }\n    } //normalize encoding\n\n\n    _normalizeComponentEncoding(components, protocol);\n\n    if (options.reference !== \"suffix\" && components.scheme) {\n      uriTokens.push(components.scheme);\n      uriTokens.push(\":\");\n    }\n\n    var authority = _recomposeAuthority(components, options);\n\n    if (authority !== undefined) {\n      if (options.reference !== \"suffix\") {\n        uriTokens.push(\"//\");\n      }\n\n      uriTokens.push(authority);\n\n      if (components.path && components.path.charAt(0) !== \"/\") {\n        uriTokens.push(\"/\");\n      }\n    }\n\n    if (components.path !== undefined) {\n      var s = components.path;\n\n      if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n        s = removeDotSegments(s);\n      }\n\n      if (authority === undefined) {\n        s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n      }\n\n      uriTokens.push(s);\n    }\n\n    if (components.query !== undefined) {\n      uriTokens.push(\"?\");\n      uriTokens.push(components.query);\n    }\n\n    if (components.fragment !== undefined) {\n      uriTokens.push(\"#\");\n      uriTokens.push(components.fragment);\n    }\n\n    return uriTokens.join(\"\"); //merge tokens into a string\n  }\n\n  function resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n    var target = {};\n\n    if (!skipNormalization) {\n      base = parse(serialize(base, options), options); //normalize base components\n\n      relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n\n    options = options || {};\n\n    if (!options.tolerant && relative.scheme) {\n      target.scheme = relative.scheme; //target.authority = relative.authority;\n\n      target.userinfo = relative.userinfo;\n      target.host = relative.host;\n      target.port = relative.port;\n      target.path = removeDotSegments(relative.path || \"\");\n      target.query = relative.query;\n    } else {\n      if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n      } else {\n        if (!relative.path) {\n          target.path = base.path;\n\n          if (relative.query !== undefined) {\n            target.query = relative.query;\n          } else {\n            target.query = base.query;\n          }\n        } else {\n          if (relative.path.charAt(0) === \"/\") {\n            target.path = removeDotSegments(relative.path);\n          } else {\n            if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n              target.path = \"/\" + relative.path;\n            } else if (!base.path) {\n              target.path = relative.path;\n            } else {\n              target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n            }\n\n            target.path = removeDotSegments(target.path);\n          }\n\n          target.query = relative.query;\n        } //target.authority = base.authority;\n\n\n        target.userinfo = base.userinfo;\n        target.host = base.host;\n        target.port = base.port;\n      }\n\n      target.scheme = base.scheme;\n    }\n\n    target.fragment = relative.fragment;\n    return target;\n  }\n\n  function resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({\n      scheme: 'null'\n    }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n  }\n\n  function normalize(uri, options) {\n    if (typeof uri === \"string\") {\n      uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n      uri = parse(serialize(uri, options), options);\n    }\n\n    return uri;\n  }\n\n  function equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n      uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n      uriA = serialize(uriA, options);\n    }\n\n    if (typeof uriB === \"string\") {\n      uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n      uriB = serialize(uriB, options);\n    }\n\n    return uriA === uriB;\n  }\n\n  function escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n  }\n\n  function unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n  }\n\n  var handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n      //report missing host\n      if (!components.host) {\n        components.error = components.error || \"HTTP URIs must have a host.\";\n      }\n\n      return components;\n    },\n    serialize: function serialize(components, options) {\n      var secure = String(components.scheme).toLowerCase() === \"https\"; //normalize the default port\n\n      if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n        components.port = undefined;\n      } //normalize the empty path\n\n\n      if (!components.path) {\n        components.path = \"/\";\n      } //NOTE: We do not parse query strings for HTTP URIs\n      //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n      //and not the HTTP spec.\n\n\n      return components;\n    }\n  };\n  var handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n  };\n\n  function isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n  } //RFC 6455\n\n\n  var handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n      var wsComponents = components; //indicate if the secure flag is set\n\n      wsComponents.secure = isSecure(wsComponents); //construct resouce name\n\n      wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n      wsComponents.path = undefined;\n      wsComponents.query = undefined;\n      return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n      //normalize the default port\n      if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n        wsComponents.port = undefined;\n      } //ensure scheme matches secure flag\n\n\n      if (typeof wsComponents.secure === 'boolean') {\n        wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n        wsComponents.secure = undefined;\n      } //reconstruct path from resource name\n\n\n      if (wsComponents.resourceName) {\n        var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n            _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n            path = _wsComponents$resourc2[0],\n            query = _wsComponents$resourc2[1];\n\n        wsComponents.path = path && path !== '/' ? path : undefined;\n        wsComponents.query = query;\n        wsComponents.resourceName = undefined;\n      } //forbid fragment component\n\n\n      wsComponents.fragment = undefined;\n      return wsComponents;\n    }\n  };\n  var handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n  };\n  var O = {};\n  var isIRI = true; //RFC 3986\n\n  var UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\n  var HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\n\n  var PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n  //RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n  //const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n  //const WSP$$ = \"[\\\\x20\\\\x09]\";\n  //const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n  //const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n  //const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n  //const WSP$$ = \"[\\\\x20\\\\x09]\";\n  //const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n  //const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n  //const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n  //const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\n\n  var ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n  var QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\n  var VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\n  var SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\n  var UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\n  var PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\n  var NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\n  var NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\n  var NOT_HFVALUE = NOT_HFNAME;\n\n  function decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n  }\n\n  var handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n      var mailtoComponents = components;\n      var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n      mailtoComponents.path = undefined;\n\n      if (mailtoComponents.query) {\n        var unknownHeaders = false;\n        var headers = {};\n        var hfields = mailtoComponents.query.split(\"&\");\n\n        for (var x = 0, xl = hfields.length; x < xl; ++x) {\n          var hfield = hfields[x].split(\"=\");\n\n          switch (hfield[0]) {\n            case \"to\":\n              var toAddrs = hfield[1].split(\",\");\n\n              for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                to.push(toAddrs[_x]);\n              }\n\n              break;\n\n            case \"subject\":\n              mailtoComponents.subject = unescapeComponent(hfield[1], options);\n              break;\n\n            case \"body\":\n              mailtoComponents.body = unescapeComponent(hfield[1], options);\n              break;\n\n            default:\n              unknownHeaders = true;\n              headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n              break;\n          }\n        }\n\n        if (unknownHeaders) mailtoComponents.headers = headers;\n      }\n\n      mailtoComponents.query = undefined;\n\n      for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n        var addr = to[_x2].split(\"@\");\n\n        addr[0] = unescapeComponent(addr[0]);\n\n        if (!options.unicodeSupport) {\n          //convert Unicode IDN -> ASCII IDN\n          try {\n            addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n          } catch (e) {\n            mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n          }\n        } else {\n          addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n        }\n\n        to[_x2] = addr.join(\"@\");\n      }\n\n      return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n      var components = mailtoComponents;\n      var to = toArray(mailtoComponents.to);\n\n      if (to) {\n        for (var x = 0, xl = to.length; x < xl; ++x) {\n          var toAddr = String(to[x]);\n          var atIdx = toAddr.lastIndexOf(\"@\");\n          var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n          var domain = toAddr.slice(atIdx + 1); //convert IDN via punycode\n\n          try {\n            domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n          } catch (e) {\n            components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n          }\n\n          to[x] = localPart + \"@\" + domain;\n        }\n\n        components.path = to.join(\",\");\n      }\n\n      var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n      if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n      if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n      var fields = [];\n\n      for (var name in headers) {\n        if (headers[name] !== O[name]) {\n          fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n        }\n      }\n\n      if (fields.length) {\n        components.query = fields.join(\"&\");\n      }\n\n      return components;\n    }\n  };\n  var URN_PARSE = /^([^\\:]+)\\:(.*)/; //RFC 2141\n\n  var handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n      var matches = components.path && components.path.match(URN_PARSE);\n      var urnComponents = components;\n\n      if (matches) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = matches[1].toLowerCase();\n        var nss = matches[2];\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        urnComponents.nid = nid;\n        urnComponents.nss = nss;\n        urnComponents.path = undefined;\n\n        if (schemeHandler) {\n          urnComponents = schemeHandler.parse(urnComponents, options);\n        }\n      } else {\n        urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n      }\n\n      return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n      var scheme = options.scheme || urnComponents.scheme || \"urn\";\n      var nid = urnComponents.nid;\n      var urnScheme = scheme + \":\" + (options.nid || nid);\n      var schemeHandler = SCHEMES[urnScheme];\n\n      if (schemeHandler) {\n        urnComponents = schemeHandler.serialize(urnComponents, options);\n      }\n\n      var uriComponents = urnComponents;\n      var nss = urnComponents.nss;\n      uriComponents.path = (nid || options.nid) + \":\" + nss;\n      return uriComponents;\n    }\n  };\n  var UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/; //RFC 4122\n\n  var handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n      var uuidComponents = urnComponents;\n      uuidComponents.uuid = uuidComponents.nss;\n      uuidComponents.nss = undefined;\n\n      if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n        uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n      }\n\n      return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n      var urnComponents = uuidComponents; //normalize UUID\n\n      urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n      return urnComponents;\n    }\n  };\n  SCHEMES[handler.scheme] = handler;\n  SCHEMES[handler$1.scheme] = handler$1;\n  SCHEMES[handler$2.scheme] = handler$2;\n  SCHEMES[handler$3.scheme] = handler$3;\n  SCHEMES[handler$4.scheme] = handler$4;\n  SCHEMES[handler$5.scheme] = handler$5;\n  SCHEMES[handler$6.scheme] = handler$6;\n  exports.SCHEMES = SCHEMES;\n  exports.pctEncChar = pctEncChar;\n  exports.pctDecChars = pctDecChars;\n  exports.parse = parse;\n  exports.removeDotSegments = removeDotSegments;\n  exports.serialize = serialize;\n  exports.resolveComponents = resolveComponents;\n  exports.resolve = resolve;\n  exports.normalize = normalize;\n  exports.equal = equal;\n  exports.escapeComponent = escapeComponent;\n  exports.unescapeComponent = unescapeComponent;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { Link } from \"gatsby\";\nimport React from \"react\";\nimport { Locales, SimpleString } from \"../lib/localization\";\nimport { toSubmit } from \"../lib/page-links\";\nimport { useLocalization } from \"../lib/use-localization\";\nimport { Creating, Loading, Ready, State, visitState } from \"../lib/use-session\";\nimport \"./session-creating-loading.scss\";\n\nexport interface SessionCreatingProps {\n\treadonly state: Creating;\n}\n\nexport function SessionCreating({ state }: SessionCreatingProps): JSX.Element {\n\tconst l = useLocalization(locales);\n\n\treturn (\n\t\t<div className=\"SessionCreating\">\n\t\t\t{state.retries < 3 ? (\n\t\t\t\t<div className=\"first\">\n\t\t\t\t\t<p>{l.creatingSession}</p>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"failed\">\n\t\t\t\t\t<p>{l.failedCreatingSession}</p>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport interface SessionLoadingProps {\n\treadonly state: Loading;\n}\n\nexport function SessionLoading({ state }: SessionLoadingProps): JSX.Element {\n\tconst l = useLocalization(locales);\n\n\treturn (\n\t\t<div className=\"SessionLoading\">\n\t\t\t{state.retries < 3 ? (\n\t\t\t\t<div className=\"first\">\n\t\t\t\t\t<p>{l.loadingSession}</p>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"failed\">\n\t\t\t\t\t<p>{l.failedLoadingSession}</p>\n\t\t\t\t\t<p>{l.newSession()}</p>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport interface SessionStateProps {\n\treadonly state: State;\n\treadonly onReady: (state: Ready) => JSX.Element;\n}\n\nexport function SessionState({ state, onReady }: SessionStateProps): JSX.Element {\n\treturn visitState(state, {\n\t\tCreating(state) {\n\t\t\treturn <SessionCreating state={state} />;\n\t\t},\n\t\tLoading(state) {\n\t\t\treturn <SessionLoading state={state} />;\n\t\t},\n\t\tReady: onReady,\n\t});\n}\n\nconst locales: Locales<\n\tSimpleString<\"creatingSession\" | \"failedCreatingSession\" | \"loadingSession\" | \"failedLoadingSession\"> & {\n\t\tnewSession: () => JSX.Element;\n\t}\n> = {\n\ten: {\n\t\tcreatingSession: \"Creating session...\",\n\t\tfailedCreatingSession: \"Failed to create session. Trying again...\",\n\n\t\tloadingSession: \"Loading session...\",\n\t\tfailedLoadingSession: \"Failed to load session. Trying again...\",\n\t\tnewSession: () => (\n\t\t\t<>\n\t\t\t\tDo you want to <Link to={toSubmit()}>start a new analysis</Link>?\n\t\t\t</>\n\t\t),\n\t},\n\tde: {\n\t\tcreatingSession: \"Sitzung wird erstellt...\",\n\t\tfailedCreatingSession: \"Sitzung konnte nicht erstellt werden. Es wird erneut versucht...\",\n\n\t\tloadingSession: \"Sitzung wird geladen...\",\n\t\tfailedLoadingSession: \"Sitzung konnte nicht geladen werden. Es wird erneut versucht...\",\n\t\tnewSession: () => (\n\t\t\t<>\n\t\t\t\tMöchten Sie <Link to={toSubmit()}>eine neue Analyse beginnen</Link>?\n\t\t\t</>\n\t\t),\n\t},\n};\n","/**\n * @fileoverview gRPC-Web generated client stub for v1\n * @enhanceable\n * @public\n */\n\n// GENERATED CODE -- DO NOT EDIT!\n\n\n/* eslint-disable */\n// @ts-nocheck\n\n\nimport * as grpcWeb from 'grpc-web';\n\nimport * as google_protobuf_empty_pb from 'google-protobuf/google/protobuf/empty_pb';\nimport * as v1_services_pb from '../v1/services_pb';\n\n\nexport class AlignmentServiceClient {\n  client_: grpcWeb.AbstractClientBase;\n  hostname_: string;\n  credentials_: null | { [index: string]: string; };\n  options_: null | { [index: string]: any; };\n\n  constructor (hostname: string,\n               credentials?: null | { [index: string]: string; },\n               options?: null | { [index: string]: any; }) {\n    if (!options) options = {};\n    if (!credentials) credentials = {};\n    options['format'] = 'text';\n\n    this.client_ = new grpcWeb.GrpcWebClientBase(options);\n    this.hostname_ = hostname;\n    this.credentials_ = credentials;\n    this.options_ = options;\n  }\n\n  methodInfoAlign = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.AlignResponse,\n    (request: v1_services_pb.AlignRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.AlignResponse.deserializeBinary\n  );\n\n  align(\n    request: v1_services_pb.AlignRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.AlignResponse>;\n\n  align(\n    request: v1_services_pb.AlignRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.AlignResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.AlignResponse>;\n\n  align(\n    request: v1_services_pb.AlignRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.AlignResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.AlignmentService/Align',\n        request,\n        metadata || {},\n        this.methodInfoAlign,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.AlignmentService/Align',\n    request,\n    metadata || {},\n    this.methodInfoAlign);\n  }\n\n  methodInfoGetDefaultConfig = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetDefaultAlignmentConfigResponse,\n    (request: v1_services_pb.GetDefaultAlignmentConfigRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetDefaultAlignmentConfigResponse.deserializeBinary\n  );\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultAlignmentConfigRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetDefaultAlignmentConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultAlignmentConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultAlignmentConfigResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetDefaultAlignmentConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultAlignmentConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultAlignmentConfigResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.AlignmentService/GetDefaultConfig',\n        request,\n        metadata || {},\n        this.methodInfoGetDefaultConfig,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.AlignmentService/GetDefaultConfig',\n    request,\n    metadata || {},\n    this.methodInfoGetDefaultConfig);\n  }\n\n}\n\nexport class DecompositionServiceClient {\n  client_: grpcWeb.AbstractClientBase;\n  hostname_: string;\n  credentials_: null | { [index: string]: string; };\n  options_: null | { [index: string]: any; };\n\n  constructor (hostname: string,\n               credentials?: null | { [index: string]: string; },\n               options?: null | { [index: string]: any; }) {\n    if (!options) options = {};\n    if (!credentials) credentials = {};\n    options['format'] = 'text';\n\n    this.client_ = new grpcWeb.GrpcWebClientBase(options);\n    this.hostname_ = hostname;\n    this.credentials_ = credentials;\n    this.options_ = options;\n  }\n\n  methodInfoDecompose = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.DecomposeResponse,\n    (request: v1_services_pb.DecomposeRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.DecomposeResponse.deserializeBinary\n  );\n\n  decompose(\n    request: v1_services_pb.DecomposeRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.DecomposeResponse>;\n\n  decompose(\n    request: v1_services_pb.DecomposeRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.DecomposeResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.DecomposeResponse>;\n\n  decompose(\n    request: v1_services_pb.DecomposeRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.DecomposeResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.DecompositionService/Decompose',\n        request,\n        metadata || {},\n        this.methodInfoDecompose,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.DecompositionService/Decompose',\n    request,\n    metadata || {},\n    this.methodInfoDecompose);\n  }\n\n  methodInfoGetDefaultConfig = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetDefaultDecompositionConfigResponse,\n    (request: v1_services_pb.GetDefaultDecompositionConfigRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetDefaultDecompositionConfigResponse.deserializeBinary\n  );\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultDecompositionConfigRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetDefaultDecompositionConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultDecompositionConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultDecompositionConfigResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetDefaultDecompositionConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultDecompositionConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultDecompositionConfigResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.DecompositionService/GetDefaultConfig',\n        request,\n        metadata || {},\n        this.methodInfoGetDefaultConfig,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.DecompositionService/GetDefaultConfig',\n    request,\n    metadata || {},\n    this.methodInfoGetDefaultConfig);\n  }\n\n}\n\nexport class RetrievalServiceClient {\n  client_: grpcWeb.AbstractClientBase;\n  hostname_: string;\n  credentials_: null | { [index: string]: string; };\n  options_: null | { [index: string]: any; };\n\n  constructor (hostname: string,\n               credentials?: null | { [index: string]: string; },\n               options?: null | { [index: string]: any; }) {\n    if (!options) options = {};\n    if (!credentials) credentials = {};\n    options['format'] = 'text';\n\n    this.client_ = new grpcWeb.GrpcWebClientBase(options);\n    this.hostname_ = hostname;\n    this.credentials_ = credentials;\n    this.options_ = options;\n  }\n\n  methodInfoRetrieve = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.RetrieveResponse,\n    (request: v1_services_pb.RetrieveRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.RetrieveResponse.deserializeBinary\n  );\n\n  retrieve(\n    request: v1_services_pb.RetrieveRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.RetrieveResponse>;\n\n  retrieve(\n    request: v1_services_pb.RetrieveRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.RetrieveResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.RetrieveResponse>;\n\n  retrieve(\n    request: v1_services_pb.RetrieveRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.RetrieveResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.RetrievalService/Retrieve',\n        request,\n        metadata || {},\n        this.methodInfoRetrieve,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.RetrievalService/Retrieve',\n    request,\n    metadata || {},\n    this.methodInfoRetrieve);\n  }\n\n  methodInfoGetText = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetTextResponse,\n    (request: v1_services_pb.GetTextRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetTextResponse.deserializeBinary\n  );\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetTextResponse>;\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetTextResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetTextResponse>;\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetTextResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.RetrievalService/GetText',\n        request,\n        metadata || {},\n        this.methodInfoGetText,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.RetrievalService/GetText',\n    request,\n    metadata || {},\n    this.methodInfoGetText);\n  }\n\n  methodInfoGetDocument = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetDocumentResponse,\n    (request: v1_services_pb.GetDocumentRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetDocumentResponse.deserializeBinary\n  );\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetDocumentResponse>;\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDocumentResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetDocumentResponse>;\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDocumentResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.RetrievalService/GetDocument',\n        request,\n        metadata || {},\n        this.methodInfoGetDocument,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.RetrievalService/GetDocument',\n    request,\n    metadata || {},\n    this.methodInfoGetDocument);\n  }\n\n  methodInfoGetCollections = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetCollectionsResponse,\n    (request: v1_services_pb.GetCollectionsRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetCollectionsResponse.deserializeBinary\n  );\n\n  getCollections(\n    request: v1_services_pb.GetCollectionsRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetCollectionsResponse>;\n\n  getCollections(\n    request: v1_services_pb.GetCollectionsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetCollectionsResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetCollectionsResponse>;\n\n  getCollections(\n    request: v1_services_pb.GetCollectionsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetCollectionsResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.RetrievalService/GetCollections',\n        request,\n        metadata || {},\n        this.methodInfoGetCollections,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.RetrievalService/GetCollections',\n    request,\n    metadata || {},\n    this.methodInfoGetCollections);\n  }\n\n  methodInfoGetDefaultConfig = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetDefaultRetrievalConfigResponse,\n    (request: v1_services_pb.GetDefaultRetrievalConfigRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetDefaultRetrievalConfigResponse.deserializeBinary\n  );\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultRetrievalConfigRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetDefaultRetrievalConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultRetrievalConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultRetrievalConfigResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetDefaultRetrievalConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultRetrievalConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultRetrievalConfigResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.RetrievalService/GetDefaultConfig',\n        request,\n        metadata || {},\n        this.methodInfoGetDefaultConfig,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.RetrievalService/GetDefaultConfig',\n    request,\n    metadata || {},\n    this.methodInfoGetDefaultConfig);\n  }\n\n}\n\nexport class SessionServiceClient {\n  client_: grpcWeb.AbstractClientBase;\n  hostname_: string;\n  credentials_: null | { [index: string]: string; };\n  options_: null | { [index: string]: any; };\n\n  constructor (hostname: string,\n               credentials?: null | { [index: string]: string; },\n               options?: null | { [index: string]: any; }) {\n    if (!options) options = {};\n    if (!credentials) credentials = {};\n    options['format'] = 'text';\n\n    this.client_ = new grpcWeb.GrpcWebClientBase(options);\n    this.hostname_ = hostname;\n    this.credentials_ = credentials;\n    this.options_ = options;\n  }\n\n  methodInfoCreateSession = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.CreateSessionResponse,\n    (request: v1_services_pb.CreateSessionRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.CreateSessionResponse.deserializeBinary\n  );\n\n  createSession(\n    request: v1_services_pb.CreateSessionRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.CreateSessionResponse>;\n\n  createSession(\n    request: v1_services_pb.CreateSessionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.CreateSessionResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.CreateSessionResponse>;\n\n  createSession(\n    request: v1_services_pb.CreateSessionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.CreateSessionResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/CreateSession',\n        request,\n        metadata || {},\n        this.methodInfoCreateSession,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/CreateSession',\n    request,\n    metadata || {},\n    this.methodInfoCreateSession);\n  }\n\n  methodInfoGetSession = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetSessionResponse,\n    (request: v1_services_pb.GetSessionRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetSessionResponse.deserializeBinary\n  );\n\n  getSession(\n    request: v1_services_pb.GetSessionRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetSessionResponse>;\n\n  getSession(\n    request: v1_services_pb.GetSessionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetSessionResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetSessionResponse>;\n\n  getSession(\n    request: v1_services_pb.GetSessionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetSessionResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetSession',\n        request,\n        metadata || {},\n        this.methodInfoGetSession,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetSession',\n    request,\n    metadata || {},\n    this.methodInfoGetSession);\n  }\n\n  methodInfoDeleteSession = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.DeleteSessionResponse,\n    (request: v1_services_pb.DeleteSessionRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.DeleteSessionResponse.deserializeBinary\n  );\n\n  deleteSession(\n    request: v1_services_pb.DeleteSessionRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.DeleteSessionResponse>;\n\n  deleteSession(\n    request: v1_services_pb.DeleteSessionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteSessionResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.DeleteSessionResponse>;\n\n  deleteSession(\n    request: v1_services_pb.DeleteSessionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteSessionResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/DeleteSession',\n        request,\n        metadata || {},\n        this.methodInfoDeleteSession,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/DeleteSession',\n    request,\n    metadata || {},\n    this.methodInfoDeleteSession);\n  }\n\n  methodInfoGetCollections = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetCollectionsResponse,\n    (request: v1_services_pb.GetCollectionsRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetCollectionsResponse.deserializeBinary\n  );\n\n  getCollections(\n    request: v1_services_pb.GetCollectionsRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetCollectionsResponse>;\n\n  getCollections(\n    request: v1_services_pb.GetCollectionsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetCollectionsResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetCollectionsResponse>;\n\n  getCollections(\n    request: v1_services_pb.GetCollectionsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetCollectionsResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetCollections',\n        request,\n        metadata || {},\n        this.methodInfoGetCollections,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetCollections',\n    request,\n    metadata || {},\n    this.methodInfoGetCollections);\n  }\n\n  methodInfoGetConfig = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetConfigResponse,\n    (request: v1_services_pb.GetConfigRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetConfigResponse.deserializeBinary\n  );\n\n  getConfig(\n    request: v1_services_pb.GetConfigRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetConfigResponse>;\n\n  getConfig(\n    request: v1_services_pb.GetConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetConfigResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetConfigResponse>;\n\n  getConfig(\n    request: v1_services_pb.GetConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetConfigResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetConfig',\n        request,\n        metadata || {},\n        this.methodInfoGetConfig,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetConfig',\n    request,\n    metadata || {},\n    this.methodInfoGetConfig);\n  }\n\n  methodInfoUpdateConfig = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.UpdateConfigResponse,\n    (request: v1_services_pb.UpdateConfigRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.UpdateConfigResponse.deserializeBinary\n  );\n\n  updateConfig(\n    request: v1_services_pb.UpdateConfigRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.UpdateConfigResponse>;\n\n  updateConfig(\n    request: v1_services_pb.UpdateConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.UpdateConfigResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.UpdateConfigResponse>;\n\n  updateConfig(\n    request: v1_services_pb.UpdateConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.UpdateConfigResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/UpdateConfig',\n        request,\n        metadata || {},\n        this.methodInfoUpdateConfig,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/UpdateConfig',\n    request,\n    metadata || {},\n    this.methodInfoUpdateConfig);\n  }\n\n  methodInfoDeleteConfig = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.DeleteConfigResponse,\n    (request: v1_services_pb.DeleteConfigRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.DeleteConfigResponse.deserializeBinary\n  );\n\n  deleteConfig(\n    request: v1_services_pb.DeleteConfigRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.DeleteConfigResponse>;\n\n  deleteConfig(\n    request: v1_services_pb.DeleteConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteConfigResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.DeleteConfigResponse>;\n\n  deleteConfig(\n    request: v1_services_pb.DeleteConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteConfigResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/DeleteConfig',\n        request,\n        metadata || {},\n        this.methodInfoDeleteConfig,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/DeleteConfig',\n    request,\n    metadata || {},\n    this.methodInfoDeleteConfig);\n  }\n\n  methodInfoCreateItem = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.CreateItemResponse,\n    (request: v1_services_pb.CreateItemRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.CreateItemResponse.deserializeBinary\n  );\n\n  createItem(\n    request: v1_services_pb.CreateItemRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.CreateItemResponse>;\n\n  createItem(\n    request: v1_services_pb.CreateItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.CreateItemResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.CreateItemResponse>;\n\n  createItem(\n    request: v1_services_pb.CreateItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.CreateItemResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/CreateItem',\n        request,\n        metadata || {},\n        this.methodInfoCreateItem,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/CreateItem',\n    request,\n    metadata || {},\n    this.methodInfoCreateItem);\n  }\n\n  methodInfoUpdateItem = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.UpdateItemResponse,\n    (request: v1_services_pb.UpdateItemRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.UpdateItemResponse.deserializeBinary\n  );\n\n  updateItem(\n    request: v1_services_pb.UpdateItemRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.UpdateItemResponse>;\n\n  updateItem(\n    request: v1_services_pb.UpdateItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.UpdateItemResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.UpdateItemResponse>;\n\n  updateItem(\n    request: v1_services_pb.UpdateItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.UpdateItemResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/UpdateItem',\n        request,\n        metadata || {},\n        this.methodInfoUpdateItem,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/UpdateItem',\n    request,\n    metadata || {},\n    this.methodInfoUpdateItem);\n  }\n\n  methodInfoGetItem = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetItemResponse,\n    (request: v1_services_pb.GetItemRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetItemResponse.deserializeBinary\n  );\n\n  getItem(\n    request: v1_services_pb.GetItemRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetItemResponse>;\n\n  getItem(\n    request: v1_services_pb.GetItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetItemResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetItemResponse>;\n\n  getItem(\n    request: v1_services_pb.GetItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetItemResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetItem',\n        request,\n        metadata || {},\n        this.methodInfoGetItem,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetItem',\n    request,\n    metadata || {},\n    this.methodInfoGetItem);\n  }\n\n  methodInfoGetItemStatus = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetItemStatusResponse,\n    (request: v1_services_pb.GetItemStatusRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetItemStatusResponse.deserializeBinary\n  );\n\n  getItemStatus(\n    request: v1_services_pb.GetItemStatusRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetItemStatusResponse>;\n\n  getItemStatus(\n    request: v1_services_pb.GetItemStatusRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetItemStatusResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetItemStatusResponse>;\n\n  getItemStatus(\n    request: v1_services_pb.GetItemStatusRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetItemStatusResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetItemStatus',\n        request,\n        metadata || {},\n        this.methodInfoGetItemStatus,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetItemStatus',\n    request,\n    metadata || {},\n    this.methodInfoGetItemStatus);\n  }\n\n  methodInfoDeleteItem = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.DeleteItemResponse,\n    (request: v1_services_pb.DeleteItemRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.DeleteItemResponse.deserializeBinary\n  );\n\n  deleteItem(\n    request: v1_services_pb.DeleteItemRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.DeleteItemResponse>;\n\n  deleteItem(\n    request: v1_services_pb.DeleteItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteItemResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.DeleteItemResponse>;\n\n  deleteItem(\n    request: v1_services_pb.DeleteItemRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteItemResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/DeleteItem',\n        request,\n        metadata || {},\n        this.methodInfoDeleteItem,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/DeleteItem',\n    request,\n    metadata || {},\n    this.methodInfoDeleteItem);\n  }\n\n  methodInfoUpdateComparisonSet = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.UpdateComparisonSetResponse,\n    (request: v1_services_pb.UpdateComparisonSetRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.UpdateComparisonSetResponse.deserializeBinary\n  );\n\n  updateComparisonSet(\n    request: v1_services_pb.UpdateComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.UpdateComparisonSetResponse>;\n\n  updateComparisonSet(\n    request: v1_services_pb.UpdateComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.UpdateComparisonSetResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.UpdateComparisonSetResponse>;\n\n  updateComparisonSet(\n    request: v1_services_pb.UpdateComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.UpdateComparisonSetResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/UpdateComparisonSet',\n        request,\n        metadata || {},\n        this.methodInfoUpdateComparisonSet,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/UpdateComparisonSet',\n    request,\n    metadata || {},\n    this.methodInfoUpdateComparisonSet);\n  }\n\n  methodInfoGetComparisonSet = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetComparisonSetResponse,\n    (request: v1_services_pb.GetComparisonSetRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetComparisonSetResponse.deserializeBinary\n  );\n\n  getComparisonSet(\n    request: v1_services_pb.GetComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetComparisonSetResponse>;\n\n  getComparisonSet(\n    request: v1_services_pb.GetComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetComparisonSetResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetComparisonSetResponse>;\n\n  getComparisonSet(\n    request: v1_services_pb.GetComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetComparisonSetResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetComparisonSet',\n        request,\n        metadata || {},\n        this.methodInfoGetComparisonSet,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetComparisonSet',\n    request,\n    metadata || {},\n    this.methodInfoGetComparisonSet);\n  }\n\n  methodInfoDeleteComparisonSet = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.DeleteComparisonSetResponse,\n    (request: v1_services_pb.DeleteComparisonSetRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.DeleteComparisonSetResponse.deserializeBinary\n  );\n\n  deleteComparisonSet(\n    request: v1_services_pb.DeleteComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.DeleteComparisonSetResponse>;\n\n  deleteComparisonSet(\n    request: v1_services_pb.DeleteComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteComparisonSetResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.DeleteComparisonSetResponse>;\n\n  deleteComparisonSet(\n    request: v1_services_pb.DeleteComparisonSetRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.DeleteComparisonSetResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/DeleteComparisonSet',\n        request,\n        metadata || {},\n        this.methodInfoDeleteComparisonSet,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/DeleteComparisonSet',\n    request,\n    metadata || {},\n    this.methodInfoDeleteComparisonSet);\n  }\n\n  methodInfoComputeResults = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.ComputeResultsResponse,\n    (request: v1_services_pb.ComputeResultsRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.ComputeResultsResponse.deserializeBinary\n  );\n\n  computeResults(\n    request: v1_services_pb.ComputeResultsRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.ComputeResultsResponse>;\n\n  computeResults(\n    request: v1_services_pb.ComputeResultsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.ComputeResultsResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.ComputeResultsResponse>;\n\n  computeResults(\n    request: v1_services_pb.ComputeResultsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.ComputeResultsResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/ComputeResults',\n        request,\n        metadata || {},\n        this.methodInfoComputeResults,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/ComputeResults',\n    request,\n    metadata || {},\n    this.methodInfoComputeResults);\n  }\n\n  methodInfoGetComputeStatus = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetComputeStatusResponse,\n    (request: v1_services_pb.GetComputeStatusRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetComputeStatusResponse.deserializeBinary\n  );\n\n  getComputeStatus(\n    request: v1_services_pb.GetComputeStatusRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetComputeStatusResponse>;\n\n  getComputeStatus(\n    request: v1_services_pb.GetComputeStatusRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetComputeStatusResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetComputeStatusResponse>;\n\n  getComputeStatus(\n    request: v1_services_pb.GetComputeStatusRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetComputeStatusResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetComputeStatus',\n        request,\n        metadata || {},\n        this.methodInfoGetComputeStatus,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetComputeStatus',\n    request,\n    metadata || {},\n    this.methodInfoGetComputeStatus);\n  }\n\n  methodInfoGetResults = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetResultsResponse,\n    (request: v1_services_pb.GetResultsRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetResultsResponse.deserializeBinary\n  );\n\n  getResults(\n    request: v1_services_pb.GetResultsRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetResultsResponse>;\n\n  getResults(\n    request: v1_services_pb.GetResultsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetResultsResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetResultsResponse>;\n\n  getResults(\n    request: v1_services_pb.GetResultsRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetResultsResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetResults',\n        request,\n        metadata || {},\n        this.methodInfoGetResults,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetResults',\n    request,\n    metadata || {},\n    this.methodInfoGetResults);\n  }\n\n  methodInfoGetResult = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetResultResponse,\n    (request: v1_services_pb.GetResultRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetResultResponse.deserializeBinary\n  );\n\n  getResult(\n    request: v1_services_pb.GetResultRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetResultResponse>;\n\n  getResult(\n    request: v1_services_pb.GetResultRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetResultResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetResultResponse>;\n\n  getResult(\n    request: v1_services_pb.GetResultRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetResultResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetResult',\n        request,\n        metadata || {},\n        this.methodInfoGetResult,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetResult',\n    request,\n    metadata || {},\n    this.methodInfoGetResult);\n  }\n\n  methodInfoGetText = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetTextResponse,\n    (request: v1_services_pb.GetTextRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetTextResponse.deserializeBinary\n  );\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetTextResponse>;\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetTextResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetTextResponse>;\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetTextResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetText',\n        request,\n        metadata || {},\n        this.methodInfoGetText,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetText',\n    request,\n    metadata || {},\n    this.methodInfoGetText);\n  }\n\n  methodInfoGetDocument = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetDocumentResponse,\n    (request: v1_services_pb.GetDocumentRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetDocumentResponse.deserializeBinary\n  );\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetDocumentResponse>;\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDocumentResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetDocumentResponse>;\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDocumentResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.SessionService/GetDocument',\n        request,\n        metadata || {},\n        this.methodInfoGetDocument,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.SessionService/GetDocument',\n    request,\n    metadata || {},\n    this.methodInfoGetDocument);\n  }\n\n}\n\nexport class ApiServiceClient {\n  client_: grpcWeb.AbstractClientBase;\n  hostname_: string;\n  credentials_: null | { [index: string]: string; };\n  options_: null | { [index: string]: any; };\n\n  constructor (hostname: string,\n               credentials?: null | { [index: string]: string; },\n               options?: null | { [index: string]: any; }) {\n    if (!options) options = {};\n    if (!credentials) credentials = {};\n    options['format'] = 'text';\n\n    this.client_ = new grpcWeb.GrpcWebClientBase(options);\n    this.hostname_ = hostname;\n    this.credentials_ = credentials;\n    this.options_ = options;\n  }\n\n  methodInfoInfo = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.InfoResponse,\n    (request: google_protobuf_empty_pb.Empty) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.InfoResponse.deserializeBinary\n  );\n\n  info(\n    request: google_protobuf_empty_pb.Empty,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.InfoResponse>;\n\n  info(\n    request: google_protobuf_empty_pb.Empty,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.InfoResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.InfoResponse>;\n\n  info(\n    request: google_protobuf_empty_pb.Empty,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.InfoResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.ApiService/Info',\n        request,\n        metadata || {},\n        this.methodInfoInfo,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.ApiService/Info',\n    request,\n    metadata || {},\n    this.methodInfoInfo);\n  }\n\n  methodInfoAlignPair = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.AlignPairResponse,\n    (request: v1_services_pb.AlignPairRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.AlignPairResponse.deserializeBinary\n  );\n\n  alignPair(\n    request: v1_services_pb.AlignPairRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.AlignPairResponse>;\n\n  alignPair(\n    request: v1_services_pb.AlignPairRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.AlignPairResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.AlignPairResponse>;\n\n  alignPair(\n    request: v1_services_pb.AlignPairRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.AlignPairResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.ApiService/AlignPair',\n        request,\n        metadata || {},\n        this.methodInfoAlignPair,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.ApiService/AlignPair',\n    request,\n    metadata || {},\n    this.methodInfoAlignPair);\n  }\n\n  methodInfoAlignWithCollection = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.AlignWithCollectionResponse,\n    (request: v1_services_pb.AlignWithCollectionRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.AlignWithCollectionResponse.deserializeBinary\n  );\n\n  alignWithCollection(\n    request: v1_services_pb.AlignWithCollectionRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.AlignWithCollectionResponse>;\n\n  alignWithCollection(\n    request: v1_services_pb.AlignWithCollectionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.AlignWithCollectionResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.AlignWithCollectionResponse>;\n\n  alignWithCollection(\n    request: v1_services_pb.AlignWithCollectionRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.AlignWithCollectionResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.ApiService/AlignWithCollection',\n        request,\n        metadata || {},\n        this.methodInfoAlignWithCollection,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.ApiService/AlignWithCollection',\n    request,\n    metadata || {},\n    this.methodInfoAlignWithCollection);\n  }\n\n  methodInfoGetDefaultConfig = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetDefaultApiConfigResponse,\n    (request: v1_services_pb.GetDefaultApiConfigRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetDefaultApiConfigResponse.deserializeBinary\n  );\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultApiConfigRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetDefaultApiConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultApiConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultApiConfigResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetDefaultApiConfigResponse>;\n\n  getDefaultConfig(\n    request: v1_services_pb.GetDefaultApiConfigRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDefaultApiConfigResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.ApiService/GetDefaultConfig',\n        request,\n        metadata || {},\n        this.methodInfoGetDefaultConfig,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.ApiService/GetDefaultConfig',\n    request,\n    metadata || {},\n    this.methodInfoGetDefaultConfig);\n  }\n\n  methodInfoGetText = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetTextResponse,\n    (request: v1_services_pb.GetTextRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetTextResponse.deserializeBinary\n  );\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetTextResponse>;\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetTextResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetTextResponse>;\n\n  getText(\n    request: v1_services_pb.GetTextRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetTextResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.ApiService/GetText',\n        request,\n        metadata || {},\n        this.methodInfoGetText,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.ApiService/GetText',\n    request,\n    metadata || {},\n    this.methodInfoGetText);\n  }\n\n  methodInfoGetDocument = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.GetDocumentResponse,\n    (request: v1_services_pb.GetDocumentRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.GetDocumentResponse.deserializeBinary\n  );\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.GetDocumentResponse>;\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDocumentResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.GetDocumentResponse>;\n\n  getDocument(\n    request: v1_services_pb.GetDocumentRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.GetDocumentResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.ApiService/GetDocument',\n        request,\n        metadata || {},\n        this.methodInfoGetDocument,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.ApiService/GetDocument',\n    request,\n    metadata || {},\n    this.methodInfoGetDocument);\n  }\n\n}\n\nexport class ExtractionServiceClient {\n  client_: grpcWeb.AbstractClientBase;\n  hostname_: string;\n  credentials_: null | { [index: string]: string; };\n  options_: null | { [index: string]: any; };\n\n  constructor (hostname: string,\n               credentials?: null | { [index: string]: string; },\n               options?: null | { [index: string]: any; }) {\n    if (!options) options = {};\n    if (!credentials) credentials = {};\n    options['format'] = 'text';\n\n    this.client_ = new grpcWeb.GrpcWebClientBase(options);\n    this.hostname_ = hostname;\n    this.credentials_ = credentials;\n    this.options_ = options;\n  }\n\n  methodInfoExtract = new grpcWeb.AbstractClientBase.MethodInfo(\n    v1_services_pb.ExtractResponse,\n    (request: v1_services_pb.ExtractRequest) => {\n      return request.serializeBinary();\n    },\n    v1_services_pb.ExtractResponse.deserializeBinary\n  );\n\n  extract(\n    request: v1_services_pb.ExtractRequest,\n    metadata: grpcWeb.Metadata | null): Promise<v1_services_pb.ExtractResponse>;\n\n  extract(\n    request: v1_services_pb.ExtractRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback: (err: grpcWeb.Error,\n               response: v1_services_pb.ExtractResponse) => void): grpcWeb.ClientReadableStream<v1_services_pb.ExtractResponse>;\n\n  extract(\n    request: v1_services_pb.ExtractRequest,\n    metadata: grpcWeb.Metadata | null,\n    callback?: (err: grpcWeb.Error,\n               response: v1_services_pb.ExtractResponse) => void) {\n    if (callback !== undefined) {\n      return this.client_.rpcCall(\n        this.hostname_ +\n          '/v1.ExtractionService/Extract',\n        request,\n        metadata || {},\n        this.methodInfoExtract,\n        callback);\n    }\n    return this.client_.unaryCall(\n    this.hostname_ +\n      '/v1.ExtractionService/Extract',\n    request,\n    metadata || {},\n    this.methodInfoExtract);\n  }\n\n}\n\n","import { v4 as uuidv4 } from \"uuid\";\nimport * as v1_services_pb from \"../generated/v1/services_pb\";\nimport { SessionServiceClient } from \"../generated/v1/ServicesServiceClientPb\";\nimport { Item, ResourcePair } from \"../generated/v1/types_pb\";\nimport { delay, lazy } from \"../util\";\nimport { PicapicaSessionUrn, PicapicaUrn } from \"./urn\";\nimport type * as grpcWeb from \"grpc-web\";\n\n// Options for testing the UI\n\nconst serverAddress = \"https://picapica-api.web.webis.de:443\";\n\n/** Use a mock client that simulates a server locally. */\nconst mock = false;\n/** The probability (number from 0 to 1) of a server call rejecting. */\nconst clientErrorRate = 0;\n/** Added delay (randomly chosen between min and max) to each server call. */\nconst clientDelay: [min: number, max: number] = [0, 0];\n\nexport const getSessionClient = lazy(() => {\n\tlet client = mock ? new MockClient() : new SessionServiceClient(serverAddress);\n\n\tif (clientErrorRate > 0) client = fallibleClient(client, clientErrorRate);\n\tif (clientDelay[1] > 0) client = delayedClient(client, ...clientDelay);\n\n\treturn client;\n});\n\nfunction delayedClient(client: SessionServiceClient, min: number, max: number): SessionServiceClient {\n\treturn new Proxy(client, {\n\t\tget(target, p) {\n\t\t\tconst fn = target[p as keyof SessionServiceClient];\n\t\t\tif (typeof fn !== \"function\") return fn;\n\t\t\treturn async (...args: unknown[]) => {\n\t\t\t\tawait delay(min + Math.random() * (max - min));\n\t\t\t\treturn (fn as (...args: unknown[]) => unknown).call(target, ...args);\n\t\t\t};\n\t\t},\n\t});\n}\n\nfunction fallibleClient(client: SessionServiceClient, errorRate: number): SessionServiceClient {\n\treturn new Proxy(client, {\n\t\tget(target, p) {\n\t\t\tconst fn = target[p as keyof SessionServiceClient];\n\t\t\tif (typeof fn !== \"function\") return fn;\n\t\t\treturn async (...args: unknown[]) => {\n\t\t\t\tif (Math.random() < errorRate) {\n\t\t\t\t\tthrow new Error(\"Simulated network error\");\n\t\t\t\t}\n\t\t\t\treturn (fn as (...args: unknown[]) => unknown).call(target, ...args);\n\t\t\t};\n\t\t},\n\t});\n}\n\n// Mock client\n\ninterface MockUnaryCall<Req, Res> {\n\t(request: Req, metadata: grpcWeb.Metadata | null): Promise<Res>;\n\t(\n\t\trequest: Req,\n\t\tmetadata: grpcWeb.Metadata | null,\n\t\tcallback: (err: grpcWeb.Error, response: Res) => void\n\t): grpcWeb.ClientReadableStream<Res>;\n}\nfunction mockUnary<Req, Res>(\n\tcall: (request: Req, metadata: grpcWeb.Metadata | null) => Promise<Res>\n): MockUnaryCall<Req, Res> {\n\treturn function getSession(\n\t\trequest: Req,\n\t\tmetadata: grpcWeb.Metadata | null,\n\t\tcallback?: (err: grpcWeb.Error, response: Res) => void\n\t): any {\n\t\tif (callback !== undefined) {\n\t\t\tthrow new Error(\"Streaming calls are not supported.\");\n\t\t}\n\t\treturn call(request, metadata);\n\t};\n}\n\nclass MockClient extends SessionServiceClient {\n\tprivate _sessions = new Map<string, v1_services_pb.Session>();\n\tprivate _content = new WeakMap<Item.Resource, string>();\n\n\tconstructor() {\n\t\tsuper(\"foo.test\");\n\t}\n\n\tprivate async _getSessionRef(urn: string): Promise<v1_services_pb.Session> {\n\t\tconst session = this._sessions.get(urn);\n\t\tif (session === undefined) {\n\t\t\treturn Promise.reject(\"Invalid session id\");\n\t\t}\n\t\treturn Promise.resolve(session);\n\t}\n\tprivate async _getItemRef(sessionUrn: string, itemId: string): Promise<Item> {\n\t\tconst sessionRef = await this._getSessionRef(sessionUrn);\n\n\t\tconst item = sessionRef.getItemsList().find(i => i.getUrn() === itemId);\n\t\tif (item === undefined) {\n\t\t\treturn Promise.reject(\"Invalid item id\");\n\t\t}\n\t\treturn item;\n\t}\n\n\tcreateSession = mockUnary<v1_services_pb.CreateSessionRequest, v1_services_pb.CreateSessionResponse>(async req => {\n\t\tconst urn = PicapicaUrn.stringify({ type: \"session\", sessionId: uuidv4() });\n\t\tconst session = new v1_services_pb.Session();\n\t\tsession.setUrn(urn);\n\t\tthis._sessions.set(urn, session);\n\n\t\treturn new v1_services_pb.CreateSessionResponse().setSessionUrn(urn);\n\t});\n\tgetSession = mockUnary<v1_services_pb.GetSessionRequest, v1_services_pb.GetSessionResponse>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\treturn new v1_services_pb.GetSessionResponse().setSession(sessionRef.clone());\n\t});\n\tdeleteSession = mockUnary<v1_services_pb.DeleteSessionRequest, v1_services_pb.DeleteSessionResponse>(async req => {\n\t\tconst success = this._sessions.delete(req.getSessionUrn());\n\t\tif (!success) {\n\t\t\treturn Promise.reject(\"Invalid session id\");\n\t\t}\n\t\treturn new v1_services_pb.DeleteSessionResponse();\n\t});\n\n\tgetCollections = mockUnary<v1_services_pb.GetCollectionsRequest, v1_services_pb.GetCollectionsResponse>(\n\t\tasync req => {\n\t\t\treturn new v1_services_pb.GetCollectionsResponse();\n\t\t}\n\t);\n\n\tgetConfig = mockUnary<v1_services_pb.GetConfigRequest, v1_services_pb.GetConfigResponse>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\treturn new v1_services_pb.GetConfigResponse().setConfig(sessionRef.getConfig()?.clone());\n\t});\n\tupdateConfig = mockUnary<v1_services_pb.UpdateConfigRequest, v1_services_pb.UpdateConfigResponse>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\tsessionRef.setConfig(req.getConfig()?.clone());\n\t\treturn new v1_services_pb.UpdateConfigResponse();\n\t});\n\tdeleteConfig = mockUnary<v1_services_pb.DeleteConfigRequest, v1_services_pb.DeleteConfigResponse>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\tsessionRef.setConfig(undefined);\n\t\treturn new v1_services_pb.DeleteConfigResponse();\n\t});\n\n\tgetComparisonSet = mockUnary<v1_services_pb.GetComparisonSetRequest, v1_services_pb.GetComparisonSetResponse>(\n\t\tasync req => {\n\t\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\t\treturn new v1_services_pb.GetComparisonSetResponse().setComparisonsList(\n\t\t\t\tsessionRef.getComparisonsList().map(p => p.clone())\n\t\t\t);\n\t\t}\n\t);\n\tupdateComparisonSet = mockUnary<\n\t\tv1_services_pb.UpdateComparisonSetRequest,\n\t\tv1_services_pb.UpdateComparisonSetResponse\n\t>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\tsessionRef.setComparisonsList(req.getComparisonsList().map(p => p.clone()));\n\t\treturn new v1_services_pb.UpdateComparisonSetResponse();\n\t});\n\tdeleteComparisonSet = mockUnary<\n\t\tv1_services_pb.DeleteComparisonSetRequest,\n\t\tv1_services_pb.DeleteComparisonSetResponse\n\t>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\tsessionRef.setComparisonsList([]);\n\t\treturn new v1_services_pb.DeleteComparisonSetResponse();\n\t});\n\n\tcreateItem = mockUnary<v1_services_pb.CreateItemRequest, v1_services_pb.CreateItemResponse>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\n\t\tconst raw = req.getRaw_asU8();\n\n\t\t// delay to simulate the upload (100 kB/s)\n\t\tawait delay(raw.byteLength / 100);\n\n\t\tlet content: string;\n\t\tswitch (req.getType()) {\n\t\t\tcase Item.Resource.Type.TYPE_UNSPECIFIED:\n\t\t\t\tthrow new Error(\"Unspecified resource type\");\n\t\t\tcase Item.Resource.Type.TYPE_TEXT:\n\t\t\t\tcontent = new TextDecoder(\"utf-8\").decode(raw);\n\t\t\t\tbreak;\n\t\t\tcase Item.Resource.Type.TYPE_URL:\n\t\t\t\tcontent = \"Text from website: \" + new TextDecoder(\"utf-8\").decode(raw);\n\t\t\t\tbreak;\n\t\t\tcase Item.Resource.Type.TYPE_FILE:\n\t\t\t\tcontent = \"Some file\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"Invalid resource type\");\n\t\t}\n\n\t\tconst itemUrn = PicapicaUrn.stringify({\n\t\t\ttype: \"item\",\n\t\t\tsessionId: (PicapicaUrn.parse(sessionRef.getUrn()) as PicapicaSessionUrn).sessionId,\n\t\t\titemId: randomHex(64),\n\t\t});\n\n\t\tconst rawProps = new Item.Resource.RawProperties();\n\t\trawProps.setSize(raw.length);\n\t\trawProps.setChecksum(randomHex(32));\n\n\t\tconst textProps = new Item.Resource.TextProperties();\n\t\ttextProps.setLength([...content].length);\n\t\ttextProps.setChecksum(randomHex(32));\n\n\t\tconst resource = new Item.Resource();\n\t\tresource.setItemUrn(itemUrn);\n\t\tresource.setType(req.getType());\n\t\tresource.setRawProperties(rawProps);\n\t\tresource.setTextProperties(textProps);\n\n\t\tconst item = new Item();\n\t\titem.setUrn(itemUrn);\n\t\titem.setMeta(req.getMeta()?.clone());\n\t\titem.setResource(resource);\n\n\t\tsessionRef.addItems(item);\n\t\tthis._content.set(resource, content);\n\n\t\tfor (const other of req.getComparisonUrnsList()) {\n\t\t\tconst p = new ResourcePair();\n\t\t\tp.setUrnA(itemUrn);\n\t\t\tp.setUrnB(other);\n\t\t\tsessionRef.addComparisons(p);\n\t\t}\n\n\t\treturn new v1_services_pb.CreateItemResponse().setItemUrn(item.getUrn());\n\t});\n\tupdateItem = mockUnary<v1_services_pb.UpdateItemRequest, v1_services_pb.UpdateItemResponse>(async req => {\n\t\tconst itemRef = await this._getItemRef(req.getSessionUrn(), req.getItemUrn());\n\t\titemRef.setMeta(req.getMeta()?.clone());\n\t\treturn new v1_services_pb.UpdateItemResponse();\n\t});\n\tgetItem = mockUnary<v1_services_pb.GetItemRequest, v1_services_pb.GetItemResponse>(async req => {\n\t\tconst res = new v1_services_pb.GetItemResponse();\n\t\tfor (const urn of req.getItemUrnList()) {\n\t\t\tconst itemRef = await this._getItemRef(req.getSessionUrn(), urn);\n\t\t\tres.addItems(itemRef.clone());\n\t\t}\n\n\t\treturn res;\n\t});\n\tdeleteItem = mockUnary<v1_services_pb.DeleteItemRequest, v1_services_pb.DeleteItemResponse>(async req => {\n\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\tconst itemRef = await this._getItemRef(req.getSessionUrn(), req.getItemUrn());\n\t\tsessionRef.setItemsList(sessionRef.getItemsList().filter(i => i !== itemRef));\n\n\t\treturn new v1_services_pb.DeleteItemResponse();\n\t});\n\n\tcomputeResults = mockUnary<v1_services_pb.ComputeResultsRequest, v1_services_pb.ComputeResultsResponse>(\n\t\tasync req => {\n\t\t\tconst sessionRef = await this._getSessionRef(req.getSessionUrn());\n\t\t\tsessionRef.setStatus(v1_services_pb.Session.ComputeStatus.STATUS_RUNNING);\n\n\t\t\tdelay(10_000).then(() => sessionRef.setStatus(v1_services_pb.Session.ComputeStatus.STATUS_COMPLETED));\n\n\t\t\treturn new v1_services_pb.ComputeResultsResponse();\n\t\t}\n\t);\n}\n\nfunction randomHex(length: number): string {\n\treturn Array.from({ length }, () => Math.floor(Math.random() * 16).toString(16)).join(\"\");\n}\n","import { parse as parseURI, URIComponents } from \"uri-js\";\n\nexport const NONE_URN = \"urn:picapica:none\";\n\ntype UrnTypes = \"collection\" | \"document\" | \"session\" | \"item\" | \"result\" | \"none\";\nexport type Urn<Type extends UrnTypes = UrnTypes> = Type extends \"none\"\n\t? typeof NONE_URN\n\t: `urn:picapica:${Type}:${string}`;\n\ntype WithType<O, T extends string> = O extends { readonly type: T } ? O : never;\nexport type Parsed<T extends UrnTypes> = WithType<PicapicaUrn, T>;\n\nexport type PicapicaUrn =\n\t| PicapicaCollectionUrn\n\t| PicapicaDocumentUrn\n\t| PicapicaSessionUrn\n\t| PicapicaItemUrn\n\t| PicapicaResultUrn\n\t| PicapicaNoneUrn;\n\ninterface PicapicaUrnBase {\n\treadonly type: UrnTypes;\n}\nexport interface PicapicaCollectionUrn extends PicapicaUrnBase {\n\ttype: \"collection\";\n\tcollectionId: string;\n}\nexport interface PicapicaDocumentUrn extends PicapicaUrnBase {\n\ttype: \"document\";\n\tcollectionId: string;\n\tdocumentId: string;\n}\nexport interface PicapicaSessionUrn extends PicapicaUrnBase {\n\ttype: \"session\";\n\tsessionId: string;\n}\nexport interface PicapicaItemUrn extends PicapicaUrnBase {\n\ttype: \"item\";\n\tsessionId: string;\n\titemId: string;\n}\nexport interface PicapicaResultUrn extends PicapicaUrnBase {\n\ttype: \"result\";\n\tsessionId: string;\n\tresultId: string;\n}\nexport interface PicapicaNoneUrn extends PicapicaUrnBase {\n\ttype: \"none\";\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace, @typescript-eslint/no-redeclare\nexport namespace PicapicaUrn {\n\texport function parse<T extends UrnTypes>(urn: Urn<T>): Parsed<T>;\n\texport function parse(urn: string): PicapicaUrn;\n\texport function parse(urn: string): PicapicaUrn {\n\t\tconst parsed = parseURI(urn) as URIComponents & { nid?: string; nss?: string };\n\t\tif (parsed.scheme !== \"urn\" || parsed.nid !== \"picapica\" || !parsed.nss) {\n\t\t\tthrow new SyntaxError(`Invalid Picapica URN: ${urn}`);\n\t\t}\n\n\t\tconst parts = parsed.nss.split(/:/);\n\t\tconst type = parts[0];\n\t\tconst args = parts.slice(1);\n\n\t\tswitch (type) {\n\t\t\tcase \"collection\":\n\t\t\t\tif (args.length === 1) {\n\t\t\t\t\treturn { type, collectionId: args[0] };\n\t\t\t\t}\n\t\t\t\tthrow new SyntaxError(`Invalid Picapica ${type} URN: ${urn}`);\n\n\t\t\tcase \"document\":\n\t\t\t\tif (args.length === 2) {\n\t\t\t\t\treturn { type, collectionId: args[0], documentId: args[1] };\n\t\t\t\t}\n\t\t\t\tthrow new SyntaxError(`Invalid Picapica ${type} URN: ${urn}`);\n\n\t\t\tcase \"session\":\n\t\t\t\tif (args.length === 1) {\n\t\t\t\t\treturn { type, sessionId: args[0] };\n\t\t\t\t}\n\t\t\t\tthrow new SyntaxError(`Invalid Picapica ${type} URN: ${urn}`);\n\n\t\t\tcase \"item\":\n\t\t\t\tif (args.length === 2) {\n\t\t\t\t\treturn { type, sessionId: args[0], itemId: args[1] };\n\t\t\t\t}\n\t\t\t\tthrow new SyntaxError(`Invalid Picapica ${type} URN: ${urn}`);\n\n\t\t\tcase \"result\":\n\t\t\t\tif (args.length === 2) {\n\t\t\t\t\treturn { type, sessionId: args[0], resultId: args[1] };\n\t\t\t\t}\n\t\t\t\tthrow new SyntaxError(`Invalid Picapica ${type} URN: ${urn}`);\n\n\t\t\tcase \"none\":\n\t\t\t\tif (args.length === 0) {\n\t\t\t\t\treturn { type };\n\t\t\t\t}\n\t\t\t\tthrow new SyntaxError(`Invalid Picapica ${type} URN: ${urn}`);\n\n\t\t\tdefault:\n\t\t\t\tthrow new SyntaxError(`Invalid Picapica URN: ${urn}`);\n\t\t}\n\t}\n\texport function tryParse(urn: string): PicapicaUrn | undefined {\n\t\ttry {\n\t\t\treturn parse(urn);\n\t\t} catch (error) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\texport function stringify<T extends PicapicaUrn>(urn: T): Urn<T[\"type\"]> {\n\t\treturn `urn:picapica:${urn.type}${stringifyContent(urn)}` as Urn<T[\"type\"]>;\n\t}\n\tfunction stringifyContent(urn: PicapicaUrn): string {\n\t\tswitch (urn.type) {\n\t\t\tcase \"collection\":\n\t\t\t\treturn `:${urn.collectionId}`;\n\t\t\tcase \"document\":\n\t\t\t\treturn `:${urn.collectionId}:${urn.documentId}`;\n\t\t\tcase \"session\":\n\t\t\t\treturn `:${urn.sessionId}`;\n\t\t\tcase \"item\":\n\t\t\t\treturn `:${urn.sessionId}:${urn.itemId}`;\n\t\t\tcase \"result\":\n\t\t\t\treturn `:${urn.sessionId}:${urn.resultId}`;\n\t\t\tcase \"none\":\n\t\t\t\treturn \"\";\n\t\t}\n\t}\n\n\texport function toSessionUrn(urn: PicapicaUrn): PicapicaSessionUrn | undefined {\n\t\tswitch (urn.type) {\n\t\t\tcase \"item\":\n\t\t\tcase \"result\":\n\t\t\tcase \"session\":\n\t\t\t\treturn { type: \"session\", sessionId: urn.sessionId };\n\t\t\tdefault:\n\t\t\t\treturn undefined;\n\t\t}\n\t}\n}\n","export interface ReadonlyURLSearchParams {\n\t/**\n\t * Returns the first value associated to the given search parameter.\n\t */\n\tget(name: string): string | null;\n\t/**\n\t * Returns all the values association with a given search parameter.\n\t */\n\tgetAll(name: string): string[];\n\t/**\n\t * Returns a Boolean indicating if such a search parameter exists.\n\t */\n\thas(name: string): boolean;\n\t/**\n\t * Returns a string containing a query string suitable for use in a URL. Does not include the question mark.\n\t */\n\ttoString(): string;\n\tforEach(callbackfn: (value: string, key: string, parent: ReadonlyURLSearchParams) => void, thisArg?: any): void;\n\n\t[Symbol.iterator](): IterableIterator<[string, string]>;\n\t/**\n\t * Returns an array of key, value pairs for every entry in the search params.\n\t */\n\tentries(): IterableIterator<[string, string]>;\n\t/**\n\t * Returns a list of keys in the search params.\n\t */\n\tkeys(): IterableIterator<string>;\n\t/**\n\t * Returns a list of values in the search params.\n\t */\n\tvalues(): IterableIterator<string>;\n}\n\n/**\n * Returns the search parameters of the current document location.\n */\nexport function getLocationSearchParams(): ReadonlyURLSearchParams {\n\treturn new URLSearchParams(location.search);\n}\n\nexport type SearchParamsChanges = Record<string, string | null>;\n\n/**\n * Changes the URL search parameters of the given URL and returns whether the given URL was changed.\n */\nexport function changeUrlSearchParams(url: URL, changes: SearchParamsChanges): boolean {\n\tlet didChange = false;\n\n\tfor (const name in changes) {\n\t\tif (Object.prototype.hasOwnProperty.call(changes, name)) {\n\t\t\tconst value = changes[name];\n\n\t\t\tif (url.searchParams.get(name) === value) {\n\t\t\t\t// nothing has to be done\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (value === null) {\n\t\t\t\turl.searchParams.delete(name);\n\t\t\t} else {\n\t\t\t\turl.searchParams.set(name, value);\n\t\t\t}\n\n\t\t\tdidChange = true;\n\t\t}\n\t}\n\n\treturn didChange;\n}\n\n/**\n * Returns the current URL with the given changes applied to it.\n */\nexport function getChangedLocationSearchParams(changes: SearchParamsChanges): URL {\n\tconst url = new URL(location.href);\n\tchangeUrlSearchParams(url, changes);\n\treturn url;\n}\n\n/**\n * Changes the search parameters of the current document location.\n */\nexport function changeLocationSearchParams(mode: \"push\" | \"replace\", changes: SearchParamsChanges): void {\n\tconst url = new URL(location.href);\n\n\tif (!changeUrlSearchParams(url, changes)) {\n\t\treturn;\n\t}\n\n\tif (mode === \"push\") {\n\t\thistory.pushState(history.state, \"\", url);\n\t} else {\n\t\thistory.replaceState(history.state, \"\", url);\n\t}\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport {\n\tCreateSessionRequest,\n\tCreateSessionResponse,\n\tGetSessionRequest,\n\tGetSessionResponse,\n\tSession,\n} from \"../lib/generated/v1/services_pb\";\nimport { addLocationChangeListener, useAsyncEffect } from \"../lib/react-util\";\nimport { getSessionClient } from \"../lib/session/client\";\nimport { changeLocationSearchParams, getLocationSearchParams } from \"../lib/url-params\";\nimport { assertNever, DeepReadonly, delay, noop } from \"../lib/util\";\nimport { Item } from \"./generated/v1/types_pb\";\nimport { SessionMutator } from \"./session/mutator\";\nimport { PicapicaUrn } from \"./session/urn\";\nimport { StorageCache } from \"./storage-cache\";\n\nexport interface Creating {\n\treadonly type: \"Creating\";\n\treadonly retries: number;\n}\nexport interface Loading {\n\treadonly type: \"Loading\";\n\treadonly sessionUrn: string;\n\treadonly retries: number;\n}\nexport interface Ready {\n\treadonly type: \"Ready\";\n\treadonly session: DeepReadonly<Session.AsObject>;\n}\n\nexport type State = Ready | Loading | Creating;\nexport type CreateState = Ready | Loading | Creating;\nexport type LoadState = Ready | Loading;\ntype InternalState = Ready | Loading | Creating;\n\nexport type StateVisitor<S extends State, R> = {\n\t[K in S[\"type\"]]: S extends { readonly type: K } ? (state: S) => R : never;\n};\n\nexport function visitState<S extends State, R>(state: S, visitor: StateVisitor<S, R>): R {\n\tconst fn = visitor[state.type as never] as (state: S) => R;\n\treturn fn(state);\n}\n\nexport type UseSessionArray<S extends State = State> = [\n\tstate: S,\n\t/**\n\t * This will temporarily change the currently displayed state to the given session object. After the given action\n\t * completes (successfully or unsuccessfully), the session will be reloaded.\n\t *\n\t * This given session is only a temporary state to apply changes immediately on the user side.\n\t *\n\t * This function **will not** completely ignore the result/error of the given action promise. If the action\n\t * succeeds, then the session will simply be reloaded. If the action fails, then the temporary change will\n\t * immediately be rolled back and the session will be reloaded.\n\t *\n\t * This method is intended to be called synchronously. Calling this method asynchronously will result in undefined\n\t * behavior.\n\t */\n\tupdate: (action: Promise<void>, mutate: SessionMutator) => void\n];\n\nexport function useCreateSession(): UseSessionArray<CreateState> {\n\treturn useSession(true);\n}\n\nexport function useLoadSession(): UseSessionArray<LoadState> {\n\tconst [state, update] = useSession(false);\n\treturn [toLoadState(state), update];\n}\n\n/**\n * The maximum amount of time after which a session object has to be refreshed.\n */\nconst AUTO_REFRESH_INTERVAL = 30_000;\n\n/**\n * This is the implementation of the public `use*Session` variants above.\n *\n * ## Mutations\n *\n * Regarding mutations, this implements a journal. All mutations are done via the returned `update` function and have\n * to provide a mutator. This mutator is used to create a history of all mutations applied to our current view of the\n * session, the journal. This allows us to displays the effects of mutations immediately without having to synchronize\n * with the backend server. This significantly improves the user experience.\n *\n * We will synchronize with the backend server after all concurrent mutation requests completed.\n *\n * ### Assumptions\n *\n * This journal approach means that we do not have to wait for the backend server to respond until the effects of\n * mutations are shown to the user. However, it also means that we need to make additional assumptions:\n *\n * 1. We assume that the current user has exclusive write access to the session. (This is typically the case.)\n *\n *    If this assumption is not met, then the lack of synchronization while mutations are executing means that we might\n *    be mutating an outdated version of the session.\n *\n * 2. We assume that mutations of the backend server are applied in the same order as in our journal.\n *\n *    If this assumption is not met, then mutations will fail in the best case (we can detect and handle this) or\n *    succeed and produce different results on the backend server compared to our client-side view in the worst case.\n *\n *    The impact of not meeting this assumption very much depends on how long a mutation takes to execute on the\n *    backend server from the client's perspective (this includes network latency) and how many mutation requests the\n *    client sends. If there are no *concurrent* mutations, then they can't be out of order.\n *\n * 3. We assume that the mutators have the same effect as the mutations done by the server.\n *\n *    This is a rather obvious assumption. The journal will only work if we do the right thing as the backend server.\n *\n *    This means in practice, that the backend server and the mutators have to have a common understanding of how\n *    operations are implemented.\n *\n * @param create\n * @returns\n */\nfunction useSession(create: boolean): UseSessionArray<InternalState> {\n\tconst [state, setState] = useState<InternalState>(getDefaultState);\n\tconst reload = useCallback(() => setState(getReloadState), [setState]);\n\n\tconst [concurrentMutations, setConcurrentMutations] = useState(0);\n\n\t// update the session URN on URL changes\n\tuseEffect(() => {\n\t\treturn addLocationChangeListener(() => {\n\t\t\tconst urn = getLocationSessionUrn();\n\t\t\tsetState(prev => {\n\t\t\t\tconst sessionUrn = getSessionUrn(prev);\n\n\t\t\t\tif (urn !== sessionUrn) {\n\t\t\t\t\tif (urn) {\n\t\t\t\t\t\treturn { type: \"Loading\", sessionUrn: urn, retries: 0 };\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn { type: \"Creating\", retries: 0 };\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn prev;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}, [setState]);\n\n\t// set the current URL params based on the current session\n\tuseEffect(() => {\n\t\tconst sessionUrn = getSessionUrn(state);\n\t\tif (sessionUrn) {\n\t\t\tsetLocationSessionUrn(sessionUrn);\n\t\t}\n\t}, [state]);\n\n\t// this effect will advance the async state machine\n\tuseAsyncEffect(\n\t\tasync token => {\n\t\t\tswitch (state.type) {\n\t\t\t\tcase \"Creating\": {\n\t\t\t\t\tif (!create) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tawait delay(getRetryDelay(state.retries));\n\t\t\t\t\ttoken.checkCanceled();\n\n\t\t\t\t\treturn getSessionClient().createSession(new CreateSessionRequest(), null);\n\t\t\t\t}\n\t\t\t\tcase \"Loading\": {\n\t\t\t\t\tif (concurrentMutations > 0) {\n\t\t\t\t\t\t// reloading while mutating doesn't make much sense right now.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tawait delay(getRetryDelay(state.retries));\n\t\t\t\t\ttoken.checkCanceled();\n\n\t\t\t\t\tconst req = new GetSessionRequest();\n\t\t\t\t\treq.setSessionUrn(state.sessionUrn);\n\t\t\t\t\treturn getSessionClient().getSession(req, null);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tresult => {\n\t\t\tif (result === undefined) {\n\t\t\t\t// don't change the current state\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (state.type) {\n\t\t\t\tcase \"Creating\": {\n\t\t\t\t\tconst resp = result as CreateSessionResponse;\n\t\t\t\t\tsetState({ type: \"Loading\", retries: 0, sessionUrn: resp.getSessionUrn() });\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"Loading\": {\n\t\t\t\t\tconst resp = result as GetSessionResponse;\n\t\t\t\t\tsetState({ type: \"Ready\", session: (resp.getSession() ?? new Session()).toObject() });\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\treason => {\n\t\t\tconsole.error(reason);\n\n\t\t\tswitch (state.type) {\n\t\t\t\tcase \"Creating\":\n\t\t\t\t\tsetState({ ...state, retries: state.retries + 1 });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Loading\":\n\t\t\t\t\tsetState({ ...state, retries: state.retries + 1 });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn(\"Reached unreachable part\");\n\t\t\t}\n\t\t},\n\t\t[concurrentMutations, state, setState, create]\n\t);\n\n\t// auto reload\n\tuseAsyncEffect(\n\t\tasync () => {\n\t\t\tif (state.type === \"Ready\") {\n\t\t\t\t// reload to:\n\t\t\t\t// 1. refresh old sessions\n\t\t\t\t// 2. refresh sessions that currently have a computation running\n\n\t\t\t\tawait delay(Math.min(AUTO_REFRESH_INTERVAL, getComputationRefreshDelay(state.session)));\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Not ready\");\n\t\t\t}\n\t\t},\n\t\treload,\n\t\tnoop,\n\t\t[state, reload]\n\t);\n\n\t// update the last ready state\n\tconst [lastReady, setLastReady] = useState<Ready | undefined>(\n\t\tstate.type === \"Loading\" ? displayCache.get(state.sessionUrn) : undefined\n\t);\n\tuseEffect(() => {\n\t\tif (state.type === \"Ready\") {\n\t\t\tsetLastReady(state);\n\t\t}\n\t}, [state, setLastReady]);\n\n\t// This is a little trick to get a stable page.\n\t//\n\t// When we reload the current session, we will go into a loading state. This means that the page will then display\n\t// a loading page. This is very annoying when the reload happens because of user interaction (e.g. the user adding\n\t// a new item). So to prevent the loading page from being visible for a fraction of a second, we will instead show\n\t// the last ready state while internally working on uploading the session.\n\tconst stableState = getStableState(state, lastReady);\n\n\tconst [journal, setJournal] = useState<Journal>();\n\n\t// reset the log after each refresh\n\tuseEffect(() => {\n\t\tif (journal && journal.forState !== stableState) {\n\t\t\tsetJournal(undefined);\n\t\t}\n\t}, [journal, setJournal, stableState]);\n\n\tconst update: UseSessionArray[1] = useCallback(\n\t\t(action, mutator) => {\n\t\t\tsetConcurrentMutations(prev => prev + 1);\n\n\t\t\tconst item = new JournalItem(mutator);\n\n\t\t\tsetJournal(prev => {\n\t\t\t\tconst log = prev ?? (stableState.type === \"Ready\" ? Journal.empty(stableState) : undefined);\n\t\t\t\treturn log?.withMutation(item);\n\t\t\t});\n\n\t\t\taction.then(\n\t\t\t\t() => {\n\t\t\t\t\tsetConcurrentMutations(prev => prev - 1);\n\t\t\t\t\treload();\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tsetConcurrentMutations(prev => prev - 1);\n\t\t\t\t\t// An error occurred, so we want to roll back the mutation in our journal.\n\t\t\t\t\t// This is done by simply removing the mutator.\n\t\t\t\t\tsetJournal(prev => prev?.withoutMutation(item.id));\n\t\t\t\t\treload();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t[stableState, setJournal, setConcurrentMutations, reload]\n\t);\n\n\tuseEffect(() => console.log(\"internal state: \", state), [state]);\n\n\tconst displayState = journal?.current ?? stableState;\n\tuseEffect(() => {\n\t\tif (displayState.type === \"Ready\") {\n\t\t\tdisplayCache.set(displayState.session.urn, displayState, AUTO_REFRESH_INTERVAL * 2);\n\t\t} else if (displayState.type === \"Loading\") {\n\t\t\tdisplayCache.delete(displayState.sessionUrn);\n\t\t}\n\t}, [displayState]);\n\n\treturn [displayState, update];\n}\n\nfunction tryGetSessionId(urn: string | null): string | null {\n\tif (!urn) return null;\n\n\tconst parsed = PicapicaUrn.tryParse(urn);\n\tif (parsed) {\n\t\treturn PicapicaUrn.toSessionUrn(parsed)?.sessionId ?? null;\n\t}\n\treturn null;\n}\nfunction getLocationSessionUrn(): string | null {\n\tconst sessionId = tryGetSessionId(getLocationSearchParams().get(\"urn\"));\n\tif (sessionId) {\n\t\treturn PicapicaUrn.stringify({ type: \"session\", sessionId });\n\t} else {\n\t\treturn null;\n\t}\n}\nfunction setLocationSessionUrn(sessionUrn: string): void {\n\t// check whether we have to update anything before making changes\n\tconst currentSessionId = tryGetSessionId(getLocationSearchParams().get(\"urn\"));\n\tif (currentSessionId && currentSessionId === tryGetSessionId(sessionUrn)) return;\n\n\tchangeLocationSearchParams(\"replace\", { urn: sessionUrn });\n}\n\nfunction getDefaultState(): InternalState {\n\tconst sessionUrn = getLocationSessionUrn();\n\n\tif (sessionUrn) {\n\t\treturn { type: \"Loading\", sessionUrn, retries: 0 };\n\t} else {\n\t\treturn { type: \"Creating\", retries: 0 };\n\t}\n}\n\nconst displayCache = new StorageCache<string, Ready>(\"last-display\");\n\nfunction getReloadState(state: InternalState): InternalState {\n\tswitch (state.type) {\n\t\tcase \"Creating\":\n\t\t\treturn state;\n\t\tcase \"Loading\":\n\t\t\treturn { ...state, retries: 0 };\n\t\tcase \"Ready\":\n\t\t\treturn { type: \"Loading\", retries: 0, sessionUrn: state.session.urn };\n\t\tdefault:\n\t\t\tassertNever(state);\n\t}\n}\n\ntype SessionUrn<S extends State> = S extends Loading ? string : S extends Ready ? string : null;\nexport function getSessionUrn<S extends State>(state: S): SessionUrn<S>;\nexport function getSessionUrn(state: State): string | null {\n\tswitch (state.type) {\n\t\tcase \"Loading\":\n\t\t\treturn state.sessionUrn;\n\t\tcase \"Ready\":\n\t\t\treturn state.session.urn;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\nfunction getRetryDelay(retries: number): number {\n\tif (retries === 0) {\n\t\treturn 0;\n\t} else if (retries < 3) {\n\t\t// the first 3 retires should be fast\n\t\treturn 500;\n\t} else if (retries <= 10) {\n\t\t// then we slow down a little\n\t\treturn 5_000;\n\t} else {\n\t\t// and then slow sown even further\n\t\treturn 60_000;\n\t}\n}\n\n/**\n * Returns whether the backend is currently processing data will likely update the session soon.\n */\nfunction isCurrentlyProcessing(session: DeepReadonly<Session.AsObject>): boolean {\n\tif (session.status === Session.ComputeStatus.STATUS_RUNNING) {\n\t\t// it's currently computing results\n\t\treturn true;\n\t}\n\n\t// any items are currently being processed\n\treturn session.itemsList.some(i => i.resource?.status === Item.Resource.ProcessingStatus.STATUS_RUNNING);\n}\nfunction getComputationRefreshDelay(session: DeepReadonly<Session.AsObject>): number {\n\tif (!isCurrentlyProcessing(session)) {\n\t\treturn Infinity;\n\t}\n\n\t// We want to:\n\t// 1. Display the first result ASAP.\n\t// 2. Display next *few* results relatively quickly.\n\t// 3. Not spam the server with too many refresh requests for longer-running tasks.\n\n\tconst resultCount = session.resultsList.length;\n\tif (resultCount === 0) {\n\t\t// Try to display the first result ASAP\n\t\treturn 500;\n\t} else if (resultCount <= 3) {\n\t\treturn 1000;\n\t} else {\n\t\treturn 3000;\n\t}\n}\n\nconst NO_SESSION_PARAM: Loading = { type: \"Loading\", sessionUrn: \"\", retries: Infinity };\n\nfunction toLoadState(state: InternalState): LoadState {\n\tif (state.type === \"Creating\") {\n\t\treturn NO_SESSION_PARAM;\n\t} else {\n\t\treturn state;\n\t}\n}\n\nfunction getStableState(state: InternalState, lastReady: Ready | undefined): InternalState {\n\tif (state.type === \"Loading\" && state.retries < 3 && lastReady && lastReady.session.urn === state.sessionUrn) {\n\t\treturn lastReady;\n\t}\n\treturn state;\n}\n\nclass Journal {\n\treadonly forState: Ready;\n\treadonly mutations: readonly JournalItem[];\n\treadonly current: Ready;\n\n\tprivate constructor(forState: Ready, mutations: readonly JournalItem[], current: Ready) {\n\t\tthis.forState = forState;\n\t\tthis.mutations = mutations;\n\t\tthis.current = current;\n\t}\n\n\tstatic empty(forState: Ready): Journal {\n\t\treturn new Journal(forState, [], forState);\n\t}\n\n\twithMutation(mutator: JournalItem): Journal {\n\t\treturn new Journal(this.forState, [...this.mutations, mutator], {\n\t\t\ttype: \"Ready\",\n\t\t\tsession: mutator.mutator(this.current.session),\n\t\t});\n\t}\n\n\twithoutMutation(id: string): Journal {\n\t\tconst mutations = this.mutations.filter(m => m.id !== id);\n\t\treturn new Journal(this.forState, mutations, {\n\t\t\ttype: \"Ready\",\n\t\t\tsession: mutations.reduce((session, item) => {\n\t\t\t\treturn item.mutator(session);\n\t\t\t}, this.forState.session),\n\t\t});\n\t}\n}\n\nclass JournalItem {\n\treadonly id: string;\n\treadonly mutator: SessionMutator;\n\n\tconstructor(mutator: SessionMutator) {\n\t\tthis.id = uuidV4();\n\t\tthis.mutator = mutator;\n\t}\n}\n","interface StorageItem<T> {\n\treadonly value: T;\n\treadonly expiredAt: number;\n}\n\nexport interface ReadonlyStorageCache<K extends string, V> {\n\treadonly name: string;\n\tget(key: K): V | undefined;\n}\n\n/**\n * This implements a cache backed by a (potentially) persistent storage.\n *\n * The cached values **MUST be deeply immutable**. Modifying the cached values in any way results in undefined behavior.\n *\n * The cached values also have to be JSON-serializable.\n */\nexport class StorageCache<K extends string, V> implements ReadonlyStorageCache<K, V> {\n\treadonly name: string;\n\n\tprivate readonly _memCache = new Map<K, StorageItem<V>>();\n\n\tconstructor(name: string) {\n\t\tthis.name = name;\n\t}\n\n\tprivate _getSessionStorageKey(key: K): string {\n\t\treturn `storage/${this.name}/${key}`;\n\t}\n\n\tget(key: K): V | undefined {\n\t\tlet cached = this._memCache.get(key);\n\n\t\tif (cached === undefined) {\n\t\t\tconst serialized = sessionStorage.getItem(this._getSessionStorageKey(key));\n\t\t\tif (serialized) {\n\t\t\t\tcached = JSON.parse(serialized) as StorageItem<V>;\n\t\t\t\tthis._memCache.set(key, cached);\n\t\t\t}\n\t\t}\n\n\t\tif (cached && cached.expiredAt < Date.now()) {\n\t\t\t// the item has expired already\n\t\t\tthis.delete(key);\n\t\t\tcached = undefined;\n\t\t}\n\n\t\treturn cached?.value;\n\t}\n\t/**\n\t * @param key\n\t * @param value\n\t * @param ttl Defines how many milliseconds the value will persist in cache. The value will no longer be accessible\n\t * after the given duration.\n\t */\n\tset(key: K, value: V, ttl = Infinity): void {\n\t\tconst item: StorageItem<V> = {\n\t\t\tvalue,\n\t\t\texpiredAt: Date.now() + ttl,\n\t\t};\n\n\t\tthis._memCache.set(key, item);\n\t\tsessionStorage.setItem(this._getSessionStorageKey(key), JSON.stringify(value));\n\t}\n\tdelete(key: K): void {\n\t\tthis._memCache.delete(key);\n\t\tsessionStorage.removeItem(this._getSessionStorageKey(key));\n\t}\n}\n"],"names":["aa","a","b","length","done","value","ba","Object","defineProperties","defineProperty","c","Array","prototype","da","window","self","g","Math","Error","ca","this","ea","split","d","f","configurable","writable","fa","Symbol","iterator","call","next","String","max","is","e","h","resolve","reject","k","push","setTimeout","l","m","TypeError","o","then","u","i","j","w","n","v","x","F","p","catch","race","all","ha","q","r","t","ia","toString","splice","propertyIsEnumerable","ja","random","ka","la","apply","bind","arguments","ma","slice","unshift","Function","indexOf","na","Date","now","y","S","constructor","oa","z","A","pa","name","qa","ra","B","sa","C","captureStackTrace","stack","message","ta","va","wa","get","keys","getRequestMessage","getMethodDescriptor","getMetadata","getCallOptions","getResponseMessage","getStatus","on","removeListener","cancel","Aa","Ba","Ca","ya","D","za","Ea","G","Ha","trim","exec","E","Ia","Ja","navigator","Ka","userAgent","Na","Pa","shift","join","Qa","I","Ta","H","Ua","Va","toLowerCase","Wa","Xa","document","documentMode","Ya","Za","$a","parseFloat","bb","Sa","ab","hasOwnProperty","Ra","parseInt","cb","db","eb","fb","hb","gb","freeze","Number","ib","jb","kb","addEventListener","removeEventListener","J","type","target","defaultPrevented","K","relatedTarget","button","screenY","screenX","clientY","clientX","key","metaKey","shiftKey","altKey","ctrlKey","pointerId","pointerType","changedTouches","srcElement","nodeName","fromElement","toElement","pageX","pageY","lb","preventDefault","returnValue","keyCode","L","mb","nb","listener","proxy","src","capture","s","ob","M","qb","pb","add","rb","sb","ub","once","vb","isArray","wb","xb","yb","Bb","zb","attachEvent","Ab","addListener","tb","Cb","Db","detachEvent","Fb","concat","Gb","parentNode","Hb","handleEvent","N","O","Oa","Ib","Jb","Kb","reset","Mb","Nb","Lb","Ob","Pb","Qb","Rb","ua","log","Yb","Sb","Tb","P","Vb","Wb","Xb","Zb","$b","ActiveXObject","XMLHttpRequest","Q","set","ac","bc","R","forEach","cc","headers","dc","ec","fc","Ub","lastIndexOf","substr","gc","hc","ic","onreadystatechange","T","open","jc","Ga","charAt","Fa","FormData","setRequestHeader","responseType","withCredentials","kc","timeout","ontimeout","lc","send","abort","mc","nc","oc","U","match","location","protocol","test","statusText","clearTimeout","readyState","qc","getResponseHeader","status","sc","V","tc","floor","Uint8Array","vc","uc","subarray","wc","W","responseText","X","code","metadata","response","mozResponseArrayBuffer","pc","xa","fromCharCode","substring","getAllResponseHeaders","Ma","rc","includes","xc","Da","yc","Y","decodeURIComponent","details","Z","Bc","round","getTime","deadline","Infinity","La","zc","encodeURIComponent","Cc","Ac","intercept","Promise","Eb","unaryCall","serverStreaming","thenableCall","rpcCall","module","exports","AbstractClientBase","MethodInfo","GrpcWebClientBase","StatusCode","OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS","MethodDescriptor","MethodType","UNARY","SERVER_STREAMING","merge","_len","sets","_key","xl","subexp","str","typeOf","undefined","pop","toUpperCase","toArray","obj","setInterval","assign","source","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","RegExp","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","err","toConsumableArray","arr2","from","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","stringFromCharCode","error$1","RangeError","map","array","fn","result","mapDomain","string","parts","replace","ucs2decode","output","counter","charCodeAt","extra","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","inputLength","bias","basic","index","oldi","baseMinusT","out","fromCodePoint","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","return","basicLength","handledCPCount","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","c2","_c","c3","_normalizeComponentEncoding","components","decodeUnreserved","decStr","scheme","userinfo","host","path","query","fragment","_stripLeadingZeros","_normalizeIPv4","matches","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","reduce","acc","field","lastLongest","sort","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","parse","uriString","options","iri","reference","port","isNaN","error","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","serialize","authority","absolutePath","resolveComponents","relative","tolerant","baseURI","relativeURI","schemelessOptions","normalize","uri","equal","uriA","uriB","escapeComponent","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","ATEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","to","unknownHeaders","hfields","hfield","toAddrs","_x","_xl","subject","body","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uuid","factory","getRandomValues","rnds8","rng","crypto","msCrypto","byteToHex","offset","buf","rnds","SessionCreating","useLocalization","className","state","SessionLoading","SessionState","visitState","Creating","Loading","Ready","locales","en","creatingSession","failedCreatingSession","loadingSession","failedLoadingSession","newSession","toSubmit","de","SessionServiceClient","credentials","client_","grpcWeb","hostname_","credentials_","options_","methodInfoCreateSession","v1_services_pb","request","createSession","callback","methodInfoGetSession","getSession","methodInfoDeleteSession","deleteSession","methodInfoGetCollections","getCollections","methodInfoGetConfig","getConfig","methodInfoUpdateConfig","updateConfig","methodInfoDeleteConfig","deleteConfig","methodInfoCreateItem","createItem","methodInfoUpdateItem","updateItem","methodInfoGetItem","getItem","methodInfoGetItemStatus","getItemStatus","methodInfoDeleteItem","deleteItem","methodInfoUpdateComparisonSet","updateComparisonSet","methodInfoGetComparisonSet","getComparisonSet","methodInfoDeleteComparisonSet","deleteComparisonSet","methodInfoComputeResults","computeResults","methodInfoGetComputeStatus","getComputeStatus","methodInfoGetResults","getResults","methodInfoGetResult","getResult","methodInfoGetText","getText","methodInfoGetDocument","getDocument","clientDelay","getSessionClient","lazy","client","async","delay","min","delayedClient","NONE_URN","urn","parsed","parseURI","args","collectionId","documentId","sessionId","itemId","resultId","stringifyContent","PicapicaUrn","getLocationSearchParams","changeUrlSearchParams","url","didChange","changes","changeLocationSearchParams","mode","URL","history","visitor","useCreateSession","useSession","useLoadSession","toLoadState","create","useState","reload","useCallback","setState","concurrentMutations","useEffect","addLocationChangeListener","getLocationSessionUrn","prev","sessionUrn","getSessionUrn","retries","currentSessionId","tryGetSessionId","setLocationSessionUrn","useAsyncEffect","getRetryDelay","token","req","session","reason","console","Session","Item","isCurrentlyProcessing","resultCount","getComputationRefreshDelay","lastReady","displayCache","setLastReady","stableState","getStableState","journal","setJournal","update","action","setConcurrentMutations","item","JournalItem","Journal","displayState","AUTO_REFRESH_INTERVAL","_memCache","_getSessionStorageKey","cached","serialized","sessionStorage","JSON","delete","ttl","expiredAt","getReloadState","assertNever","NO_SESSION_PARAM","forState","mutations","current","empty","withMutation","mutator","withoutMutation","id","filter","uuidV4"],"sourceRoot":""}